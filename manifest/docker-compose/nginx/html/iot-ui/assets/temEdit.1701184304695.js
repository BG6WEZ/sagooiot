import{a as g}from"./index.170118430469520.js";import{_ as B,t as A,v as y,w as b,x as w,y as h,z as C,A as V,E as v}from"./index.1701184304695.js";import{L as S,h as F,a2 as I,ab as k,a as G,_ as l,T as a,e as R,ai as s,o as q,b as z,Y as D}from"./vue.1701184304695.js";const $=S({name:"Edit",components:{Delete:A,Plus:y,CircleClose:b,Minus:w,Right:h,Top:C,Bottom:V},setup(o,{emit:u}){const c=F(null),m=F(null),e=I({id:0,configData:[],isShowDialog:!1,configId:"",sendGateway:"",ruleForm:{title:"",content:"",sendGateway:"",configId:""},rules:{title:[{required:!0,message:"\u914D\u7F6E\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],configId:[{required:!0,message:"\u901A\u77E5\u914D\u7F6E\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],types:[{required:!0,message:"\u914D\u7F6E\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],content:[{required:!0,message:"\u6A21\u677F\u5185\u5BB9\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),p=(t,d)=>{i(),t&&g.template.configIddetail(t).then(E=>{e.ruleForm=E||[]}),e.configId=t,e.sendGateway=d,e.isShowDialog=!0},r=(t,d)=>{},i=()=>{e.ruleForm={title:"",content:""}},n=()=>{e.isShowDialog=!1};return{openDialog:r,opentemDialog:p,closeDialog:n,onCancel:()=>{n()},onSubmit:()=>{const t=R(m);!t||t.validate(d=>{d&&(e.ruleForm.sendGateway=e.sendGateway,e.ruleForm.configId=e.configId,g.template.save(e.ruleForm).then(()=>{v.success("\u914D\u7F6E\u4FEE\u6539\u6210\u529F"),n(),u("typeList")}))})},formRef:m,myRef:c,...k(e)}}}),N={class:"system-edit-dic-container"},T={class:"dialog-footer"},U=D("\u53D6 \u6D88"),L=D("\u8BBE\u7F6E");function M(o,u,c,m,e,p){const r=s("el-input"),i=s("el-form-item"),n=s("el-form"),f=s("el-button"),_=s("el-dialog");return q(),G("div",N,[l(_,{title:"\u8BBE\u7F6E\u914D\u7F6E\u6A21\u677F",modelValue:o.isShowDialog,"onUpdate:modelValue":u[2]||(u[2]=t=>o.isShowDialog=t),width:"50%"},{footer:a(()=>[z("span",T,[l(f,{onClick:o.onCancel,size:"default"},{default:a(()=>[U]),_:1},8,["onClick"]),l(f,{type:"primary",onClick:o.onSubmit,size:"default"},{default:a(()=>[L]),_:1},8,["onClick"])])]),default:a(()=>[l(n,{model:o.ruleForm,ref:"formRef",rules:o.rules,size:"default","label-width":"110px"},{default:a(()=>[l(i,{label:"\u540D\u79F0",prop:"title"},{default:a(()=>[l(r,{modelValue:o.ruleForm.title,"onUpdate:modelValue":u[0]||(u[0]=t=>o.ruleForm.title=t),placeholder:"\u8BF7\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),l(i,{label:"\u6A21\u677F\u5185\u5BB9",prop:"content"},{default:a(()=>[l(r,{modelValue:o.ruleForm.content,"onUpdate:modelValue":u[1]||(u[1]=t=>o.ruleForm.content=t),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}var j=B($,[["render",M]]);export{j as default};
