import{_ as i,g as s,E as d}from"./index.1701184304695.js";import{L as m,ai as _,o as g,a as f,_ as v,T as h,M as x,e as I}from"./vue.1701184304695.js";const y={class:"upload"},B=m({__name:"index",props:{multiple:{type:Boolean,default:!1},accept:{type:String,default:".jpg,.png,.jpeg,.gif"},name:{type:String,default:""}},emits:["setImg","setImgs"],setup(a,{emit:n}){const l=a,r=s("/base-api/api/v1/common/singleImg"),p={Authorization:"Bearer "+localStorage.token},u=e=>{var t;const o=s("/base-api/"+((t=e.data)==null?void 0:t.path));console.log(o),n("setImg",o,l.name)},c=e=>e.size/1024/1024>2?(d.error("\u56FE\u7247\u4E0D\u80FD\u8D85\u8FC72MB!"),!1):!0;return(e,o)=>{const t=_("el-upload");return g(),f("div",y,[v(t,{class:"hide",accept:a.accept,limit:1,multiple:a.multiple,headers:p,"before-upload":c,action:I(r),"on-success":u},{default:h(()=>[x(e.$slots,"default",{},void 0,!0)]),_:3},8,["accept","multiple","action"])])}}});var C=i(B,[["__scopeId","data-v-23d1a954"]]);export{C as u};
