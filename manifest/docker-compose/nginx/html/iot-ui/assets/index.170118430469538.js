import O from"./edit.170118430469513.js";import{_ as I,b as B,h as M,E as S}from"./index.1701184304695.js";import{L as U,h as w,a2 as q,k as Q,ab as Y,a as j,_ as e,T as t,ai as l,as as C,o as u,b as G,U as s,S as i,Y as p}from"./vue.1701184304695.js";import"./validator.1701184304695.js";const H=U({name:"systemOrg",components:{EditDept:O},setup(){const a=w(),d=w(),r=q({tableData:{data:[],loading:!1,param:{deptName:"",status:-1}}}),F=()=>{_()},_=()=>{r.tableData.loading=!0,B.dept.getList(r.tableData.param).then(o=>{r.tableData.data=o}).finally(()=>r.tableData.loading=!1)},g=o=>{a.value.openDialog(o==null?void 0:o.deptId)},h=o=>{a.value.openDialog(o)},m=()=>{d.value.resetFields(),_()},f=o=>{M.confirm(`\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u90E8\u95E8\uFF1A${o.deptName}, \u662F\u5426\u7EE7\u7EED?`,"\u63D0\u793A",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{B.dept.del(o.deptId).then(()=>{S.success("\u5220\u9664\u6210\u529F"),_()})})};return Q(()=>{F()}),{queryRef:d,resetQuery:m,editDeptRef:a,deptList:_,onOpenAddDept:g,onOpenEditDept:h,onTabelRowDel:f,...Y(r)}}}),J={class:"system-dept-container"},K={class:"system-dept-search mb15"},P=p(" \u67E5\u8BE2 "),W=p(" \u91CD\u7F6E "),X=p(" \u65B0\u589E\u90E8\u95E8 "),Z=p("\u542F\u7528"),x=p("\u7981\u7528"),ee=p("\u65B0\u589E"),te=p("\u4FEE\u6539"),ae=p("\u5220\u9664");function le(a,d,r,F,_,g){const h=l("el-input"),m=l("el-form-item"),f=l("el-option"),o=l("el-select"),N=l("ele-Search"),v=l("el-icon"),c=l("el-button"),z=l("ele-Refresh"),A=l("ele-FolderAdd"),R=l("el-form"),D=l("el-table-column"),y=l("el-tag"),V=l("el-table"),$=l("el-card"),L=l("EditDept"),b=C("auth"),E=C("col"),T=C("loading");return u(),j("div",J,[e($,{shadow:"hover"},{default:t(()=>[G("div",K,[e(R,{model:a.tableData.param,inline:!0,ref:"queryRef"},{default:t(()=>[e(m,{label:"\u90E8\u95E8\u540D\u79F0",prop:"deptName"},{default:t(()=>[e(h,{size:"default",modelValue:a.tableData.param.deptName,"onUpdate:modelValue":d[0]||(d[0]=n=>a.tableData.param.deptName=n),placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0",class:"w-50",clearable:""},null,8,["modelValue"])]),_:1}),e(m,{label:"\u72B6\u6001",prop:"status"},{default:t(()=>[e(o,{size:"default",placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",class:"w-50",modelValue:a.tableData.param.status,"onUpdate:modelValue":d[1]||(d[1]=n=>a.tableData.param.status=n)},{default:t(()=>[e(f,{label:"\u5168\u90E8",value:-1}),e(f,{label:"\u542F\u7528",value:1}),e(f,{label:"\u7981\u7528",value:0})]),_:1},8,["modelValue"])]),_:1}),e(m,null,{default:t(()=>[e(c,{size:"default",type:"primary",class:"ml10",onClick:a.deptList},{default:t(()=>[e(v,null,{default:t(()=>[e(N)]),_:1}),P]),_:1},8,["onClick"]),e(c,{size:"default",onClick:d[2]||(d[2]=n=>a.resetQuery())},{default:t(()=>[e(v,null,{default:t(()=>[e(z)]),_:1}),W]),_:1}),s((u(),i(c,{size:"default",type:"success",class:"ml10",onClick:a.onOpenAddDept},{default:t(()=>[e(v,null,{default:t(()=>[e(A)]),_:1}),X]),_:1},8,["onClick"])),[[b,"add"]])]),_:1})]),_:1},8,["model"])]),s((u(),i(V,{data:a.tableData.data,style:{width:"100%"},"row-key":"deptId","default-expand-all":"","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:t(()=>[s(e(D,{prop:"deptName",label:"\u90E8\u95E8\u540D\u79F0","show-overflow-tooltip":""},null,512),[[E,"deptName"]]),s((u(),i(D,{prop:"status",label:"\u90E8\u95E8\u72B6\u6001",align:"center","min-width":"120"},{default:t(n=>[n.row.status===1?(u(),i(y,{key:0,type:"success",size:"small"},{default:t(()=>[Z]),_:1})):(u(),i(y,{key:1,type:"info",size:"small"},{default:t(()=>[x]),_:1}))]),_:1})),[[E,"status"]]),s(e(D,{prop:"orderNum",label:"\u6392\u5E8F",align:"center","min-width":"120"},null,512),[[E,"orderNum"]]),s(e(D,{prop:"createdAt",label:"\u521B\u5EFA\u65F6\u95F4",align:"center","min-width":"180"},null,512),[[E,"createdAt"]]),s((u(),i(D,{label:"\u64CD\u4F5C",align:"center",width:"140"},{default:t(n=>[s((u(),i(c,{size:"small",type:"text",onClick:k=>a.onOpenAddDept(n.row)},{default:t(()=>[ee]),_:2},1032,["onClick"])),[[b,"add"]]),s((u(),i(c,{size:"small",text:"",type:"warning",onClick:k=>a.onOpenEditDept(n.row)},{default:t(()=>[te]),_:2},1032,["onClick"])),[[b,"edit"]]),s((u(),i(c,{size:"small",text:"",type:"danger",onClick:k=>a.onTabelRowDel(n.row)},{default:t(()=>[ae]),_:2},1032,["onClick"])),[[b,"del"]])]),_:1})),[[E,"handle"]])]),_:1},8,["data"])),[[T,a.tableData.loading]])]),_:1}),e(L,{ref:"editDeptRef",onDeptList:a.deptList},null,8,["onDeptList"])])}var de=I(H,[["render",le]]);export{de as default};
