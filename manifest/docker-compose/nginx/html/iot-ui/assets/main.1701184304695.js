import{L as ne,l as W,o as y,a as A,b as R,Z as z,ai as T,a8 as Qe,F as me,S as U,T as O,_ as I,Y as ye,aD as rt,aF as st,a2 as Te,k as ze,aI as kt,ab as De,at as kn,X as se,a1 as Be,P as je,h as He,O as vt,j as lt,K as pn,n as wt,a9 as On,H as Gt,i as Tt,U as Qt,V as Kt,$ as Vn,aj as An,aB as Rn,aC as Fn}from"./vue.1701184304695.js";import{u as ve,_ as oe,L as _e,g as Pn,R as Mn,c as gn,E as Xt,h as Nn,b as Bn,O as Hn,T as bn,S as Ke,U as At}from"./index.1701184304695.js";import zn from"./parent.1701184304695.js";var qn="/imgs/logo-mini.svg";const Xn=ne({name:"layoutLogo",data(){return{sysinfo:{systemName:"",systemLogo:"",systemLogoMini:""}}},created(){this.sysinfo=JSON.parse(localStorage.sysinfo||"{}")},setup(){const e=ve(),t=W(()=>e.state.themeConfig.themeConfig),o=W(()=>{let{isCollapse:i,layout:s}=e.state.themeConfig.themeConfig;return!i||s==="classic"||document.body.clientWidth<1e3});return{logoMini:qn,setShowLogo:o,getThemeConfig:t,onThemeConfigChange:()=>{if(e.state.themeConfig.themeConfig.layout==="transverse")return!1;e.state.themeConfig.themeConfig.isCollapse=!e.state.themeConfig.themeConfig.isCollapse}}}}),Yn=["src"],Wn=["src"];function Un(e,t,o,n,i,s){return e.setShowLogo?(y(),A("div",{key:0,class:"layout-logo",onClick:t[0]||(t[0]=(...r)=>e.onThemeConfigChange&&e.onThemeConfigChange(...r))},[R("img",{src:e.sysinfo.systemLogo,class:"logo"},null,8,Yn),R("span",null,z(e.sysinfo.systemName),1)])):(y(),A("div",{key:1,class:"layout-logo-size",onClick:t[1]||(t[1]=(...r)=>e.onThemeConfigChange&&e.onThemeConfigChange(...r))},[R("img",{src:e.sysinfo.systemLogoMini,class:"logo-mini"},null,8,Wn)]))}var jn=oe(Xn,[["render",Un],["__scopeId","data-v-3bd5f221"]]);const Gn=ne({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(e){return{chils:W(()=>e.chil)}}}),Qn=["href"];function Kn(e,t,o,n,i,s){const r=T("SvgIcon"),l=T("sub-item",!0),a=T("el-sub-menu"),u=T("el-menu-item");return y(!0),A(me,null,Qe(e.chils,c=>(y(),A(me,null,[c.children&&c.children.length>0?(y(),U(a,{index:c.path,key:c.path},{title:O(()=>{var f,d,p,b;return[I(r,{name:(f=c.meta)==null?void 0:f.icon},null,8,["name"]),R("span",null,z(((d=c.meta)==null?void 0:d.title.indexOf("."))>0?e.$t((p=c.meta)==null?void 0:p.title):(b=c.meta)==null?void 0:b.title),1)]}),default:O(()=>[I(l,{chil:c.children},null,8,["chil"])]),_:2},1032,["index"])):(y(),U(u,{index:c.path,key:c.path},{default:O(()=>{var f,d,p,b,v,L,C,$,x,P,Y;return[!((f=c.meta)!=null&&f.isLink)||((d=c.meta)==null?void 0:d.isLink)&&c.meta.isIframe?(y(),A(me,{key:0},[I(r,{name:(p=c.meta)==null?void 0:p.icon},null,8,["name"]),R("span",null,z(((b=c.meta)==null?void 0:b.title.indexOf("."))>0?e.$t((v=c.meta)==null?void 0:v.title):(L=c.meta)==null?void 0:L.title),1)],64)):(y(),A("a",{key:1,href:(C=c.meta)==null?void 0:C.linkUrl,target:"_blank",rel:"opener",class:"w100"},[I(r,{name:($=c.meta)==null?void 0:$.icon},null,8,["name"]),ye(" "+z(((x=c.meta)==null?void 0:x.title.indexOf("."))>0?e.$t((P=c.meta)==null?void 0:P.title):(Y=c.meta)==null?void 0:Y.title),1)],8,Qn))]}),_:2},1032,["index"]))],64))),256)}var Zn=oe(Gn,[["render",Kn]]);const Jn=ne({name:"layoutBreadcrumb",setup(){const e=ve(),t=rt(),o=st(),n=Te({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),i=W(()=>e.state.themeConfig.themeConfig),s=W(()=>{c(t.path);const{layout:f,isBreadcrumb:d}=e.state.themeConfig.themeConfig;return f==="classic"||f==="transverse"?"none":d?"":"none"}),r=f=>{const{redirect:d,path:p}=f;d?o.push(d):o.push(p)},l=()=>{e.state.themeConfig.themeConfig.isCollapse=!e.state.themeConfig.themeConfig.isCollapse,a()},a=()=>{_e.remove("themeConfig"),_e.set("themeConfig",i.value)},u=f=>{f.map(d=>{n.routeSplit.map((p,b,v)=>{n.routeSplitFirst===d.path&&(n.routeSplitFirst+=`/${v[n.routeSplitIndex]}`,n.breadcrumbList.push(d),n.routeSplitIndex++,d.children&&u(d.children))})})},c=f=>{if(!e.state.themeConfig.themeConfig.isBreadcrumb)return!1;n.breadcrumbList=[],n.routeSplit=f.split("/"),n.routeSplit.shift(),n.routeSplitFirst=`/${n.routeSplit[0]}`,n.routeSplitIndex=1,u(e.state.routesList.routesList)};return ze(()=>{c(t.path)}),kt(f=>{c(f.path)}),{onThemeConfigChange:l,isShowBreadcrumb:s,getThemeConfig:i,onBreadcrumbClick:r,...De(n)}}}),eo={key:0,class:"layout-navbars-breadcrumb-span"},to=["onClick"];function no(e,t,o,n,i,s){const r=T("SvgIcon"),l=T("el-breadcrumb-item"),a=T("el-breadcrumb");return y(),A("div",{class:"layout-navbars-breadcrumb",style:je({display:e.isShowBreadcrumb})},[I(r,{class:"layout-navbars-breadcrumb-icon",name:e.getThemeConfig.isCollapse?"ele-Expand":"ele-Fold",size:16,onClick:e.onThemeConfigChange},null,8,["name","onClick"]),I(a,{class:"layout-navbars-breadcrumb-hide"},{default:O(()=>[I(kn,{name:"breadcrumb",mode:"out-in"},{default:O(()=>[(y(!0),A(me,null,Qe(e.breadcrumbList,u=>{var c;return y(),U(l,{key:(c=u.meta)==null?void 0:c.title},{default:O(()=>{var f,d,p,b,v,L,C,$;return[u.menuType===0?(y(),A("span",eo,[e.getThemeConfig.isBreadcrumbIcon?(y(),U(r,{key:0,name:(f=u.meta)==null?void 0:f.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):se("",!0),ye(z(((d=u.meta)==null?void 0:d.title.indexOf("."))>0?e.$t((p=u.meta)==null?void 0:p.title):(b=u.meta)==null?void 0:b.title),1)])):(y(),A("a",{key:1,onClick:Be(x=>e.onBreadcrumbClick(u),["prevent"])},[e.getThemeConfig.isBreadcrumbIcon?(y(),U(r,{key:0,name:(v=u.meta)==null?void 0:v.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):se("",!0),ye(z(((L=u.meta)==null?void 0:L.title.indexOf("."))>0?e.$t((C=u.meta)==null?void 0:C.title):($=u.meta)==null?void 0:$.title),1)],8,to))]}),_:2},1024)}),128))]),_:1})]),_:1})],4)}var oo=oe(Jn,[["render",no],["__scopeId","data-v-42ff7732"]]);const on=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Ce=(()=>{if(typeof document=="undefined")return!1;const e=on[0],t={};for(const o of on)if((o==null?void 0:o[1])in document){for(const[i,s]of o.entries())t[e[i]]=s;return t}return!1})(),an={change:Ce.fullscreenchange,error:Ce.fullscreenerror};let re={request(e=document.documentElement,t){return new Promise((o,n)=>{const i=()=>{re.off("change",i),o()};re.on("change",i);const s=e[Ce.requestFullscreen](t);s instanceof Promise&&s.then(i).catch(n)})},exit(){return new Promise((e,t)=>{if(!re.isFullscreen){e();return}const o=()=>{re.off("change",o),e()};re.on("change",o);const n=document[Ce.exitFullscreen]();n instanceof Promise&&n.then(o).catch(t)})},toggle(e,t){return re.isFullscreen?re.exit():re.request(e,t)},onchange(e){re.on("change",e)},onerror(e){re.on("error",e)},on(e,t){const o=an[e];o&&document.addEventListener(o,t,!1)},off(e,t){const o=an[e];o&&document.removeEventListener(o,t,!1)},raw:Ce};Object.defineProperties(re,{isFullscreen:{get:()=>Boolean(document[Ce.fullscreenElement])},element:{enumerable:!0,get:()=>{var e;return(e=document[Ce.fullscreenElement])!=null?e:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[Ce.fullscreenEnabled])}});Ce||(re={isEnabled:!1});var mt=re;const io={class:"layout-navbars-breadcrumb-user-news"},ao={class:"head-box"},ro={class:"head-box-title"},so={class:"content-box"},lo={class:"content-box-msg"},uo={class:"content-box-time"},co=ne({__name:"userNews",emits:["closePopover"],setup(e,{emit:t}){const o=st(),n=He([]);new EventSource(Pn("/base-api/subscribe/sysMessage?userId="+localStorage.userId)).addEventListener("lastUnRead",({data:r})=>{if(!r||r==="null")return;const l=JSON.parse(r);n.value=l.concat(n.value).slice(0,5),l.forEach(a=>{setTimeout(()=>{Mn({title:a.MessageInfo.title,message:a.MessageInfo.content,type:"error"})},100)})});const s=()=>{o.push("/monitor/notice"),t("closePopover")};return(r,l)=>{const a=T("el-empty");return y(),A("div",io,[R("div",ao,[R("div",ro,z(r.$t("message.user.newTitle")),1)]),R("div",so,[n.value.length>0?(y(!0),A(me,{key:0},Qe(n.value,(u,c)=>(y(),A("div",{class:"content-box-item",key:c},[R("div",null,z(u.title),1),R("div",lo,z(u.content),1),R("div",uo,z(u.createdAt),1)]))),128)):(y(),U(a,{key:1,description:r.$t("message.user.newDesc")},null,8,["description"]))]),n.value.length>0?(y(),A("div",{key:0,class:"foot-box",onClick:s},z(r.$t("message.user.newGo")),1)):se("",!0)])}}});var fo=oe(co,[["__scopeId","data-v-84cacf9a"]]);const mo=ne({name:"layoutBreadcrumbSearch",setup(){const e=He(),{t}=gn(),o=ve(),n=st(),i=Te({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),s=()=>{i.menuQuery="",i.isShowSearch=!0,u(),setTimeout(()=>{e.value.focus()},0)},r=()=>{i.isShowSearch=!1},l=(d,p)=>{let b=d?i.tagsViewList.filter(a(d)):i.tagsViewList;p(b)},a=d=>p=>{var b,v;return p.path.toLowerCase().indexOf(d.toLowerCase())>-1||((b=p.meta)==null?void 0:b.title.toLowerCase().indexOf(d.toLowerCase()))>-1||t((v=p.meta)==null?void 0:v.title).indexOf(d.toLowerCase())>-1},u=()=>{if(i.tagsViewList.length>0)return!1;o.state.tagsViewRoutes.tagsViewRoutes.map(d=>{var p;(p=d.meta)!=null&&p.isHide||i.tagsViewList.push({...d})})};return{layoutMenuAutocompleteRef:e,openSearch:s,closeSearch:r,menuSearch:l,onHandleSelect:d=>{var v,L;let{path:p,redirect:b}=d;((v=d.meta)==null?void 0:v.isLink)&&!d.meta.isIframe?window.open((L=d.meta)==null?void 0:L.linkUrl):b?n.push(b):n.push(p),r()},onSearchBlur:()=>{r()},...De(i)}}}),ho={class:"layout-search-dialog"};function po(e,t,o,n,i,s){const r=T("ele-Search"),l=T("el-icon"),a=T("SvgIcon"),u=T("el-autocomplete"),c=T("el-dialog");return y(),A("div",ho,[I(c,{modelValue:e.isShowSearch,"onUpdate:modelValue":t[1]||(t[1]=f=>e.isShowSearch=f),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:O(()=>[I(u,{modelValue:e.menuQuery,"onUpdate:modelValue":t[0]||(t[0]=f=>e.menuQuery=f),"fetch-suggestions":e.menuSearch,placeholder:e.$t("message.user.searchPlaceholder"),ref:"layoutMenuAutocompleteRef",onSelect:e.onHandleSelect,onBlur:e.onSearchBlur},{prefix:O(()=>[I(l,{class:"el-input__icon"},{default:O(()=>[I(r)]),_:1})]),default:O(({item:f})=>{var d,p,b,v;return[R("div",null,[I(a,{name:(d=f.meta)==null?void 0:d.icon,class:"mr5"},null,8,["name"]),ye(" "+z(((p=f.meta)==null?void 0:p.title.indexOf("."))>0?e.$t((b=f.meta)==null?void 0:b.title):(v=f.meta)==null?void 0:v.title),1)])]}),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect","onBlur"])]),_:1},8,["modelValue"])])}var go=oe(mo,[["render",po],["__scopeId","data-v-15fdd96f"]]);const bo=ne({name:"layoutBreadcrumbUser",components:{UserNews:fo,Search:go},setup(){const{t:e}=gn(),{proxy:t}=lt(),o=st(),n=ve(),i=He(),s=Te({isScreenfull:!1,disabledI18n:"zh-cn",disabledSize:"large",popoverVisible:!1}),r=W(()=>n.state.userInfos.userInfos),l=W(()=>n.state.themeConfig.themeConfig),a=W(()=>{let x="";const{layout:P,isClassicSplitMenu:Y}=l.value;return["defaults","columns"].includes(P)||P==="classic"&&!Y?x="1":x="",x}),u=()=>{if(!mt.isEnabled)return Xt.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;mt.toggle(),mt.on("change",()=>{mt.isFullscreen?s.isScreenfull=!0:s.isScreenfull=!1})},c=()=>{t.mittBus.emit("openSetingsDrawer")},f=()=>{s.popoverVisible=!1},d=x=>{x==="logOut"?Nn({closeOnClickModal:!1,closeOnPressEscape:!1,title:e("message.user.logOutTitle"),message:e("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:e("message.user.logOutConfirm"),cancelButtonText:e("message.user.logOutCancel"),buttonSize:"default",beforeClose:(P,Y,G)=>{P==="confirm"?(Y.confirmButtonLoading=!0,Y.confirmButtonText=e("message.user.logOutExit"),setTimeout(()=>{G(),setTimeout(()=>{Y.confirmButtonLoading=!1},300)},700)):G()}}).then(async()=>{Bn.login.logout(),await Hn(),Xt.success(e("message.user.logOutSuccess")),setTimeout(()=>{localStorage.clear(),window.location.href=""},500)}).catch(()=>{}):x==="wareHouse"?window.open("https://sagoo.cn"):o.push(x)},p=()=>{i.value.openSearch()},b=x=>{_e.remove("themeConfig"),l.value.globalComponentSize=x,_e.set("themeConfig",l.value),$(),window.location.reload()},v=x=>{_e.remove("themeConfig"),l.value.globalI18n=x,_e.set("themeConfig",l.value),t.$i18n.locale=x,C(),bn.useTitle()},L=x=>{t.mittBus.emit("getI18nConfig",t.$i18n.messages[x])},C=()=>{switch(_e.get("themeConfig").globalI18n){case"zh-cn":s.disabledI18n="zh-cn",L("zh-cn");break;case"en":s.disabledI18n="en",L("en");break;case"zh-tw":s.disabledI18n="zh-tw",L("zh-tw");break}},$=()=>{switch(_e.get("themeConfig").globalComponentSize){case"large":s.disabledSize="large";break;case"default":s.disabledSize="default";break;case"small":s.disabledSize="small";break}};return ze(()=>{_e.get("themeConfig")&&(C(),$())}),{hidePopover:f,getUserInfos:r,onLayoutSetingClick:c,onHandleCommandClick:d,onScreenfullClick:u,onSearchClick:p,onComponentSizeChange:b,onLanguageChange:v,searchRef:i,layoutUserFlexNum:a,...De(s)}}}),vo=["title"],wo={class:"layout-navbars-breadcrumb-user-icon"},_o=["title"],yo={class:"layout-navbars-breadcrumb-user-link"},Co=["src"];function So(e,t,o,n,i,s){const r=T("ele-Search"),l=T("el-icon"),a=T("ele-Bell"),u=T("el-badge"),c=T("UserNews"),f=T("el-popover"),d=T("ele-ArrowDown"),p=T("el-dropdown-item"),b=T("el-dropdown-menu"),v=T("el-dropdown"),L=T("Search");return y(),A("div",{class:"layout-navbars-breadcrumb-user",style:je({flex:e.layoutUserFlexNum})},[R("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:t[0]||(t[0]=(...C)=>e.onSearchClick&&e.onSearchClick(...C))},[I(l,{title:e.$t("message.user.title2")},{default:O(()=>[I(r)]),_:1},8,["title"])]),R("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:t[1]||(t[1]=(...C)=>e.onLayoutSetingClick&&e.onLayoutSetingClick(...C))},[R("i",{class:"icon-skin iconfont",title:e.$t("message.user.title3")},null,8,vo)]),R("div",wo,[I(f,{placement:"bottom",trigger:"click",width:300,visible:e.popoverVisible,"onUpdate:visible":t[2]||(t[2]=C=>e.popoverVisible=C)},{reference:O(()=>[I(u,{"is-dot":!1},{default:O(()=>[I(l,{title:e.$t("message.user.title4")},{default:O(()=>[I(a)]),_:1},8,["title"])]),_:1})]),default:O(()=>[I(c,{onClosePopover:e.hidePopover},null,8,["onClosePopover"])]),_:1},8,["visible"])]),R("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:t[3]||(t[3]=(...C)=>e.onScreenfullClick&&e.onScreenfullClick(...C))},[R("i",{class:vt(["iconfont",e.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:e.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,_o)]),I(v,{"show-timeout":70,"hide-timeout":50,onCommand:e.onHandleCommandClick},{dropdown:O(()=>[I(b,null,{default:O(()=>[I(p,{command:"/personal"},{default:O(()=>[ye(z(e.$t("message.user.dropdown2")),1)]),_:1}),I(p,{divided:"",command:"logOut"},{default:O(()=>[ye(z(e.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:O(()=>[R("span",yo,[R("img",{src:e.getUserInfos.avatar,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Co),ye(" "+z(e.getUserInfos.userName===""?"common":e.getUserInfos.userName)+" ",1),I(l,{class:"el-icon--right"},{default:O(()=>[I(d)]),_:1})])]),_:1},8,["onCommand"]),I(L,{ref:"searchRef"},null,512)],4)}var Eo=oe(bo,[["render",So],["__scopeId","data-v-cca96bc8"]]);const To=ne({name:"navMenuHorizontal",components:{SubItem:Zn},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:t}=lt(),o=rt(),n=ve(),i=Te({defaultActive:null}),s=W(()=>e.menuList),r=f=>{const d=f.wheelDelta||-f.deltaY*40;t.$refs.elMenuHorizontalScrollRef.$refs.wrap$.scrollLeft=t.$refs.elMenuHorizontalScrollRef.$refs.wrap$.scrollLeft+d/4},l=()=>{wt(()=>{let f=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!f)return!1;t.$refs.elMenuHorizontalScrollRef.$refs.wrap$.scrollLeft=f.offsetLeft})},a=f=>f.filter(d=>!d.meta.isHide).map(d=>(d=Object.assign({},d),d.children&&(d.children=a(d.children)),d)),u=f=>{const d=f.split("/");let p={};return a(n.state.routesList.routesList).map((b,v)=>{b.path===`/${d[1]}`&&(b.k=v,p.item=[{...b}],p.children=[{...b}],b.children&&(p.children=b.children))}),p},c=f=>{const{path:d,meta:p}=f;if(n.state.themeConfig.themeConfig.layout==="classic")i.defaultActive=`/${d.split("/")[1]}`;else{const b=p.isDynamic?p.isDynamicPath.split("/"):d.split("/");b.length>=4&&p.isHide?i.defaultActive=b.splice(0,3).join("/"):i.defaultActive=d}};return pn(()=>{c(o)}),ze(()=>{l()}),kt(f=>{c(f);let{layout:d,isClassicSplitMenu:p}=n.state.themeConfig.themeConfig;d==="classic"&&p&&t.mittBus.emit("setSendClassicChildren",u(f.path))}),{menuLists:s,onElMenuHorizontalScroll:r,...De(i)}}}),Do={class:"el-menu-horizontal-warp"};function Io(e,t,o,n,i,s){const r=T("SvgIcon"),l=T("SubItem"),a=T("el-sub-menu"),u=T("el-menu-item"),c=T("el-menu"),f=T("el-scrollbar");return y(),A("div",Do,[I(f,{onWheel:Be(e.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:O(()=>[I(c,{router:"","default-active":e.defaultActive,"background-color":"transparent",mode:"horizontal"},{default:O(()=>[(y(!0),A(me,null,Qe(e.menuLists,d=>{var p,b;return y(),A(me,null,[d.children&&d.children.length>0?(y(),U(a,{index:d.path,key:d.path},{title:O(()=>{var v,L,C,$;return[I(r,{name:(v=d.meta)==null?void 0:v.icon},null,8,["name"]),R("span",null,z(((L=d.meta)==null?void 0:L.title.indexOf("."))>0?e.$t((C=d.meta)==null?void 0:C.title):($=d.meta)==null?void 0:$.title),1)]}),default:O(()=>[I(l,{chil:d.children},null,8,["chil"])]),_:2},1032,["index"])):(y(),U(u,{index:d.path,key:d.path},On({_:2},[!((p=d.meta)!=null&&p.isLink)||((b=d.meta)==null?void 0:b.isLink)&&d.meta.isIframe?{name:"title",fn:O(()=>{var v,L,C,$;return[I(r,{name:(v=d.meta)==null?void 0:v.icon},null,8,["name"]),ye(" "+z(((L=d.meta)==null?void 0:L.title.indexOf("."))>0?e.$t((C=d.meta)==null?void 0:C.title):($=d.meta)==null?void 0:$.title),1)]})}:{name:"title",fn:O(()=>{var v,L,C,$,x;return[R("a",{href:(v=d.meta)==null?void 0:v.isLink,target:"_blank",rel:"opener",class:"w100"},[I(r,{name:(L=d.meta)==null?void 0:L.icon},null,8,["name"]),ye(" "+z(((C=d.meta)==null?void 0:C.title.indexOf("."))>0?e.$t(($=d.meta)==null?void 0:$.title):(x=d.meta)==null?void 0:x.title),1)],8,["href"])]})}]),1032,["index"]))],64)}),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}var Lo=oe(To,[["render",Io],["__scopeId","data-v-754b90f4"]]);const $o=ne({name:"layoutBreadcrumbIndex",components:{Breadcrumb:oo,User:Eo,Logo:jn,Horizontal:Lo},setup(){const{proxy:e}=lt(),t=ve(),o=rt(),n=Te({menuList:[]}),i=W(()=>{let{isShowLogo:c,layout:f}=t.state.themeConfig.themeConfig;return c&&f==="classic"||c&&f==="transverse"}),s=W(()=>{let{layout:c,isClassicSplitMenu:f}=t.state.themeConfig.themeConfig;return c==="transverse"||f&&c==="classic"}),r=()=>{let{layout:c,isClassicSplitMenu:f}=t.state.themeConfig.themeConfig;if(c==="classic"&&f){n.menuList=l(a(t.state.routesList.routesList));const d=u(o.path);e.mittBus.emit("setSendClassicChildren",d)}else n.menuList=a(t.state.routesList.routesList)},l=c=>(c.map(f=>{f.children&&delete f.children}),c),a=c=>c.filter(f=>{var d;return!((d=f.meta)!=null&&d.isHide)}).map(f=>(f=Object.assign({},f),f.children&&(f.children=a(f.children)),f)),u=c=>{const f=c.split("/");let d={};return a(t.state.routesList.routesList).map((p,b)=>{p.path===`/${f[1]}`&&(p.k=b,d.item=[{...p}],d.children=[{...p}],p.children&&(d.children=p.children))}),d};return ze(()=>{r(),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{r()})}),Gt(()=>{e.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),{setIsShowLogo:i,isLayoutTransverse:s,...De(n)}}}),xo={class:"layout-navbars-breadcrumb-index"};function ko(e,t,o,n,i,s){const r=T("Logo"),l=T("Breadcrumb"),a=T("Horizontal"),u=T("User");return y(),A("div",xo,[e.setIsShowLogo?(y(),U(r,{key:0})):se("",!0),I(l),e.isLayoutTransverse?(y(),U(a,{key:1,menuList:e.menuList},null,8,["menuList"])):se("",!0),I(u)])}var Oo=oe($o,[["render",ko],["__scopeId","data-v-1f45f73e"]]);/**!
* Sortable 1.15.0
* @author	RubaXa   <trash@rubaxa.org>
* @author	owenm    <owen23355@gmail.com>
* @license MIT
*/function rn(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),o.push.apply(o,n)}return o}function be(e){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?rn(Object(o),!0).forEach(function(n){Vo(e,n,o[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):rn(Object(o)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(o,n))})}return e}function _t(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_t=function(t){return typeof t}:_t=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_t(e)}function Vo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Ee(){return Ee=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n])}return e},Ee.apply(this,arguments)}function Ao(e,t){if(e==null)return{};var o={},n=Object.keys(e),i,s;for(s=0;s<n.length;s++)i=n[s],!(t.indexOf(i)>=0)&&(o[i]=e[i]);return o}function Ro(e,t){if(e==null)return{};var o=Ao(e,t),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)n=s[i],!(t.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(o[n]=e[n]))}return o}var Fo="1.15.0";function Se(e){if(typeof window!="undefined"&&window.navigator)return!!navigator.userAgent.match(e)}var Ie=Se(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),ut=Se(/Edge/i),sn=Se(/firefox/i),tt=Se(/safari/i)&&!Se(/chrome/i)&&!Se(/android/i),vn=Se(/iP(ad|od|hone)/i),wn=Se(/chrome/i)&&Se(/android/i),_n={capture:!1,passive:!1};function V(e,t,o){e.addEventListener(t,o,!Ie&&_n)}function k(e,t,o){e.removeEventListener(t,o,!Ie&&_n)}function Dt(e,t){if(!!t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Po(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function pe(e,t,o,n){if(e){o=o||document;do{if(t!=null&&(t[0]===">"?e.parentNode===o&&Dt(e,t):Dt(e,t))||n&&e===o)return e;if(e===o)break}while(e=Po(e))}return null}var ln=/\s+/g;function ie(e,t,o){if(e&&t)if(e.classList)e.classList[o?"add":"remove"](t);else{var n=(" "+e.className+" ").replace(ln," ").replace(" "+t+" "," ");e.className=(n+(o?" "+t:"")).replace(ln," ")}}function S(e,t,o){var n=e&&e.style;if(n){if(o===void 0)return document.defaultView&&document.defaultView.getComputedStyle?o=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(o=e.currentStyle),t===void 0?o:o[t];!(t in n)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),n[t]=o+(typeof o=="string"?"":"px")}}function Ue(e,t){var o="";if(typeof e=="string")o=e;else do{var n=S(e,"transform");n&&n!=="none"&&(o=n+" "+o)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(o)}function yn(e,t,o){if(e){var n=e.getElementsByTagName(t),i=0,s=n.length;if(o)for(;i<s;i++)o(n[i],i);return n}return[]}function ge(){var e=document.scrollingElement;return e||document.documentElement}function X(e,t,o,n,i){if(!(!e.getBoundingClientRect&&e!==window)){var s,r,l,a,u,c,f;if(e!==window&&e.parentNode&&e!==ge()?(s=e.getBoundingClientRect(),r=s.top,l=s.left,a=s.bottom,u=s.right,c=s.height,f=s.width):(r=0,l=0,a=window.innerHeight,u=window.innerWidth,c=window.innerHeight,f=window.innerWidth),(t||o)&&e!==window&&(i=i||e.parentNode,!Ie))do if(i&&i.getBoundingClientRect&&(S(i,"transform")!=="none"||o&&S(i,"position")!=="static")){var d=i.getBoundingClientRect();r-=d.top+parseInt(S(i,"border-top-width")),l-=d.left+parseInt(S(i,"border-left-width")),a=r+s.height,u=l+s.width;break}while(i=i.parentNode);if(n&&e!==window){var p=Ue(i||e),b=p&&p.a,v=p&&p.d;p&&(r/=v,l/=b,f/=b,c/=v,a=r+c,u=l+f)}return{top:r,left:l,bottom:a,right:u,width:f,height:c}}}function un(e,t,o){for(var n=Ae(e,!0),i=X(e)[t];n;){var s=X(n)[o],r=void 0;if(o==="top"||o==="left"?r=i>=s:r=i<=s,!r)return n;if(n===ge())break;n=Ae(n,!1)}return!1}function Ge(e,t,o,n){for(var i=0,s=0,r=e.children;s<r.length;){if(r[s].style.display!=="none"&&r[s]!==E.ghost&&(n||r[s]!==E.dragged)&&pe(r[s],o.draggable,e,!1)){if(i===t)return r[s];i++}s++}return null}function Zt(e,t){for(var o=e.lastElementChild;o&&(o===E.ghost||S(o,"display")==="none"||t&&!Dt(o,t));)o=o.previousElementSibling;return o||null}function ce(e,t){var o=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==E.clone&&(!t||Dt(e,t))&&o++;return o}function cn(e){var t=0,o=0,n=ge();if(e)do{var i=Ue(e),s=i.a,r=i.d;t+=e.scrollLeft*s,o+=e.scrollTop*r}while(e!==n&&(e=e.parentNode));return[t,o]}function Mo(e,t){for(var o in e)if(!!e.hasOwnProperty(o)){for(var n in t)if(t.hasOwnProperty(n)&&t[n]===e[o][n])return Number(o)}return-1}function Ae(e,t){if(!e||!e.getBoundingClientRect)return ge();var o=e,n=!1;do if(o.clientWidth<o.scrollWidth||o.clientHeight<o.scrollHeight){var i=S(o);if(o.clientWidth<o.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||o.clientHeight<o.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!o.getBoundingClientRect||o===document.body)return ge();if(n||t)return o;n=!0}}while(o=o.parentNode);return ge()}function No(e,t){if(e&&t)for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);return e}function Rt(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var nt;function Cn(e,t){return function(){if(!nt){var o=arguments,n=this;o.length===1?e.call(n,o[0]):e.apply(n,o),nt=setTimeout(function(){nt=void 0},t)}}}function Bo(){clearTimeout(nt),nt=void 0}function Sn(e,t,o){e.scrollLeft+=t,e.scrollTop+=o}function En(e){var t=window.Polymer,o=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):o?o(e).clone(!0)[0]:e.cloneNode(!0)}var le="Sortable"+new Date().getTime();function Ho(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(i){if(!(S(i,"display")==="none"||i===E.ghost)){e.push({target:i,rect:X(i)});var s=be({},e[e.length-1].rect);if(i.thisAnimationDuration){var r=Ue(i,!0);r&&(s.top-=r.f,s.left-=r.e)}i.fromRect=s}})}},addAnimationState:function(n){e.push(n)},removeAnimationState:function(n){e.splice(Mo(e,{target:n}),1)},animateAll:function(n){var i=this;if(!this.options.animation){clearTimeout(t),typeof n=="function"&&n();return}var s=!1,r=0;e.forEach(function(l){var a=0,u=l.target,c=u.fromRect,f=X(u),d=u.prevFromRect,p=u.prevToRect,b=l.rect,v=Ue(u,!0);v&&(f.top-=v.f,f.left-=v.e),u.toRect=f,u.thisAnimationDuration&&Rt(d,f)&&!Rt(c,f)&&(b.top-f.top)/(b.left-f.left)===(c.top-f.top)/(c.left-f.left)&&(a=qo(b,d,p,i.options)),Rt(f,c)||(u.prevFromRect=c,u.prevToRect=f,a||(a=i.options.animation),i.animate(u,b,f,a)),a&&(s=!0,r=Math.max(r,a),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},a),u.thisAnimationDuration=a)}),clearTimeout(t),s?t=setTimeout(function(){typeof n=="function"&&n()},r):typeof n=="function"&&n(),e=[]},animate:function(n,i,s,r){if(r){S(n,"transition",""),S(n,"transform","");var l=Ue(this.el),a=l&&l.a,u=l&&l.d,c=(i.left-s.left)/(a||1),f=(i.top-s.top)/(u||1);n.animatingX=!!c,n.animatingY=!!f,S(n,"transform","translate3d("+c+"px,"+f+"px,0)"),this.forRepaintDummy=zo(n),S(n,"transition","transform "+r+"ms"+(this.options.easing?" "+this.options.easing:"")),S(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){S(n,"transition",""),S(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},r)}}}}function zo(e){return e.offsetWidth}function qo(e,t,o,n){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-o.top,2)+Math.pow(t.left-o.left,2))*n.animation}var qe=[],Ft={initializeByDefault:!0},ct={mount:function(t){for(var o in Ft)Ft.hasOwnProperty(o)&&!(o in t)&&(t[o]=Ft[o]);qe.forEach(function(n){if(n.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),qe.push(t)},pluginEvent:function(t,o,n){var i=this;this.eventCanceled=!1,n.cancel=function(){i.eventCanceled=!0};var s=t+"Global";qe.forEach(function(r){!o[r.pluginName]||(o[r.pluginName][s]&&o[r.pluginName][s](be({sortable:o},n)),o.options[r.pluginName]&&o[r.pluginName][t]&&o[r.pluginName][t](be({sortable:o},n)))})},initializePlugins:function(t,o,n,i){qe.forEach(function(l){var a=l.pluginName;if(!(!t.options[a]&&!l.initializeByDefault)){var u=new l(t,o,t.options);u.sortable=t,u.options=t.options,t[a]=u,Ee(n,u.defaults)}});for(var s in t.options)if(!!t.options.hasOwnProperty(s)){var r=this.modifyOption(t,s,t.options[s]);typeof r!="undefined"&&(t.options[s]=r)}},getEventProperties:function(t,o){var n={};return qe.forEach(function(i){typeof i.eventProperties=="function"&&Ee(n,i.eventProperties.call(o[i.pluginName],t))}),n},modifyOption:function(t,o,n){var i;return qe.forEach(function(s){!t[s.pluginName]||s.optionListeners&&typeof s.optionListeners[o]=="function"&&(i=s.optionListeners[o].call(t[s.pluginName],n))}),i}};function Xo(e){var t=e.sortable,o=e.rootEl,n=e.name,i=e.targetEl,s=e.cloneEl,r=e.toEl,l=e.fromEl,a=e.oldIndex,u=e.newIndex,c=e.oldDraggableIndex,f=e.newDraggableIndex,d=e.originalEvent,p=e.putSortable,b=e.extraEventProperties;if(t=t||o&&o[le],!!t){var v,L=t.options,C="on"+n.charAt(0).toUpperCase()+n.substr(1);window.CustomEvent&&!Ie&&!ut?v=new CustomEvent(n,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(n,!0,!0)),v.to=r||o,v.from=l||o,v.item=i||o,v.clone=s,v.oldIndex=a,v.newIndex=u,v.oldDraggableIndex=c,v.newDraggableIndex=f,v.originalEvent=d,v.pullMode=p?p.lastPutMode:void 0;var $=be(be({},b),ct.getEventProperties(n,t));for(var x in $)v[x]=$[x];o&&o.dispatchEvent(v),L[C]&&L[C].call(t,v)}}var Yo=["evt"],te=function(t,o){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n.evt,s=Ro(n,Yo);ct.pluginEvent.bind(E)(t,o,be({dragEl:g,parentEl:B,ghostEl:D,rootEl:F,nextEl:Ne,lastDownEl:yt,cloneEl:M,cloneHidden:Ve,dragStarted:Ze,putSortable:j,activeSortable:E.active,originalEvent:i,oldIndex:We,oldDraggableIndex:ot,newIndex:ae,newDraggableIndex:Oe,hideGhostForTarget:Ln,unhideGhostForTarget:$n,cloneNowHidden:function(){Ve=!0},cloneNowShown:function(){Ve=!1},dispatchSortableEvent:function(l){J({sortable:o,name:l,originalEvent:i})}},s))};function J(e){Xo(be({putSortable:j,cloneEl:M,targetEl:g,rootEl:F,oldIndex:We,oldDraggableIndex:ot,newIndex:ae,newDraggableIndex:Oe},e))}var g,B,D,F,Ne,yt,M,Ve,We,ae,ot,Oe,ht,j,Ye=!1,It=!1,Lt=[],Pe,de,Pt,Mt,fn,dn,Ze,Xe,it,at=!1,pt=!1,Ct,K,Nt=[],Yt=!1,$t=[],Ot=typeof document!="undefined",gt=vn,mn=ut||Ie?"cssFloat":"float",Wo=Ot&&!wn&&!vn&&"draggable"in document.createElement("div"),Tn=function(){if(!!Ot){if(Ie)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Dn=function(t,o){var n=S(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),s=Ge(t,0,o),r=Ge(t,1,o),l=s&&S(s),a=r&&S(r),u=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+X(s).width,c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+X(r).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&l.float&&l.float!=="none"){var f=l.float==="left"?"left":"right";return r&&(a.clear==="both"||a.clear===f)?"vertical":"horizontal"}return s&&(l.display==="block"||l.display==="flex"||l.display==="table"||l.display==="grid"||u>=i&&n[mn]==="none"||r&&n[mn]==="none"&&u+c>i)?"vertical":"horizontal"},Uo=function(t,o,n){var i=n?t.left:t.top,s=n?t.right:t.bottom,r=n?t.width:t.height,l=n?o.left:o.top,a=n?o.right:o.bottom,u=n?o.width:o.height;return i===l||s===a||i+r/2===l+u/2},jo=function(t,o){var n;return Lt.some(function(i){var s=i[le].options.emptyInsertThreshold;if(!(!s||Zt(i))){var r=X(i),l=t>=r.left-s&&t<=r.right+s,a=o>=r.top-s&&o<=r.bottom+s;if(l&&a)return n=i}}),n},In=function(t){function o(s,r){return function(l,a,u,c){var f=l.options.group.name&&a.options.group.name&&l.options.group.name===a.options.group.name;if(s==null&&(r||f))return!0;if(s==null||s===!1)return!1;if(r&&s==="clone")return s;if(typeof s=="function")return o(s(l,a,u,c),r)(l,a,u,c);var d=(r?l:a).options.group.name;return s===!0||typeof s=="string"&&s===d||s.join&&s.indexOf(d)>-1}}var n={},i=t.group;(!i||_t(i)!="object")&&(i={name:i}),n.name=i.name,n.checkPull=o(i.pull,!0),n.checkPut=o(i.put),n.revertClone=i.revertClone,t.group=n},Ln=function(){!Tn&&D&&S(D,"display","none")},$n=function(){!Tn&&D&&S(D,"display","")};Ot&&!wn&&document.addEventListener("click",function(e){if(It)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),It=!1,!1},!0);var Me=function(t){if(g){t=t.touches?t.touches[0]:t;var o=jo(t.clientX,t.clientY);if(o){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[i]=t[i]);n.target=n.rootEl=o,n.preventDefault=void 0,n.stopPropagation=void 0,o[le]._onDragOver(n)}}},Go=function(t){g&&g.parentNode[le]._isOutsideThisEl(t.target)};function E(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Ee({},t),e[le]=this;var o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Dn(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(r,l){r.setData("Text",l.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:E.supportPointer!==!1&&"PointerEvent"in window&&!tt,emptyInsertThreshold:5};ct.initializePlugins(this,e,o);for(var n in o)!(n in t)&&(t[n]=o[n]);In(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:Wo,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?V(e,"pointerdown",this._onTapStart):(V(e,"mousedown",this._onTapStart),V(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(V(e,"dragover",this),V(e,"dragenter",this)),Lt.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Ee(this,Ho())}E.prototype={constructor:E,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(Xe=null)},_getDirection:function(t,o){return typeof this.options.direction=="function"?this.options.direction.call(this,t,o,g):this.options.direction},_onTapStart:function(t){if(!!t.cancelable){var o=this,n=this.el,i=this.options,s=i.preventOnFilter,r=t.type,l=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,a=(l||t).target,u=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||a,c=i.filter;if(oi(n),!g&&!(/mousedown|pointerdown/.test(r)&&t.button!==0||i.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&tt&&a&&a.tagName.toUpperCase()==="SELECT")&&(a=pe(a,i.draggable,n,!1),!(a&&a.animated)&&yt!==a)){if(We=ce(a),ot=ce(a,i.draggable),typeof c=="function"){if(c.call(this,t,a,this)){J({sortable:o,rootEl:u,name:"filter",targetEl:a,toEl:n,fromEl:n}),te("filter",o,{evt:t}),s&&t.cancelable&&t.preventDefault();return}}else if(c&&(c=c.split(",").some(function(f){if(f=pe(u,f.trim(),n,!1),f)return J({sortable:o,rootEl:f,name:"filter",targetEl:a,fromEl:n,toEl:n}),te("filter",o,{evt:t}),!0}),c)){s&&t.cancelable&&t.preventDefault();return}i.handle&&!pe(u,i.handle,n,!1)||this._prepareDragStart(t,l,a)}}},_prepareDragStart:function(t,o,n){var i=this,s=i.el,r=i.options,l=s.ownerDocument,a;if(n&&!g&&n.parentNode===s){var u=X(n);if(F=s,g=n,B=g.parentNode,Ne=g.nextSibling,yt=n,ht=r.group,E.dragged=g,Pe={target:g,clientX:(o||t).clientX,clientY:(o||t).clientY},fn=Pe.clientX-u.left,dn=Pe.clientY-u.top,this._lastX=(o||t).clientX,this._lastY=(o||t).clientY,g.style["will-change"]="all",a=function(){if(te("delayEnded",i,{evt:t}),E.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!sn&&i.nativeDraggable&&(g.draggable=!0),i._triggerDragStart(t,o),J({sortable:i,name:"choose",originalEvent:t}),ie(g,r.chosenClass,!0)},r.ignore.split(",").forEach(function(c){yn(g,c.trim(),Bt)}),V(l,"dragover",Me),V(l,"mousemove",Me),V(l,"touchmove",Me),V(l,"mouseup",i._onDrop),V(l,"touchend",i._onDrop),V(l,"touchcancel",i._onDrop),sn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,g.draggable=!0),te("delayStart",this,{evt:t}),r.delay&&(!r.delayOnTouchOnly||o)&&(!this.nativeDraggable||!(ut||Ie))){if(E.eventCanceled){this._onDrop();return}V(l,"mouseup",i._disableDelayedDrag),V(l,"touchend",i._disableDelayedDrag),V(l,"touchcancel",i._disableDelayedDrag),V(l,"mousemove",i._delayedDragTouchMoveHandler),V(l,"touchmove",i._delayedDragTouchMoveHandler),r.supportPointer&&V(l,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(a,r.delay)}else a()}},_delayedDragTouchMoveHandler:function(t){var o=t.touches?t.touches[0]:t;Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){g&&Bt(g),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;k(t,"mouseup",this._disableDelayedDrag),k(t,"touchend",this._disableDelayedDrag),k(t,"touchcancel",this._disableDelayedDrag),k(t,"mousemove",this._delayedDragTouchMoveHandler),k(t,"touchmove",this._delayedDragTouchMoveHandler),k(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,o){o=o||t.pointerType=="touch"&&t,!this.nativeDraggable||o?this.options.supportPointer?V(document,"pointermove",this._onTouchMove):o?V(document,"touchmove",this._onTouchMove):V(document,"mousemove",this._onTouchMove):(V(g,"dragend",this),V(F,"dragstart",this._onDragStart));try{document.selection?St(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,o){if(Ye=!1,F&&g){te("dragStarted",this,{evt:o}),this.nativeDraggable&&V(document,"dragover",Go);var n=this.options;!t&&ie(g,n.dragClass,!1),ie(g,n.ghostClass,!0),E.active=this,t&&this._appendGhost(),J({sortable:this,name:"start",originalEvent:o})}else this._nulling()},_emulateDragOver:function(){if(de){this._lastX=de.clientX,this._lastY=de.clientY,Ln();for(var t=document.elementFromPoint(de.clientX,de.clientY),o=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(de.clientX,de.clientY),t!==o);)o=t;if(g.parentNode[le]._isOutsideThisEl(t),o)do{if(o[le]){var n=void 0;if(n=o[le]._onDragOver({clientX:de.clientX,clientY:de.clientY,target:t,rootEl:o}),n&&!this.options.dragoverBubble)break}t=o}while(o=o.parentNode);$n()}},_onTouchMove:function(t){if(Pe){var o=this.options,n=o.fallbackTolerance,i=o.fallbackOffset,s=t.touches?t.touches[0]:t,r=D&&Ue(D,!0),l=D&&r&&r.a,a=D&&r&&r.d,u=gt&&K&&cn(K),c=(s.clientX-Pe.clientX+i.x)/(l||1)+(u?u[0]-Nt[0]:0)/(l||1),f=(s.clientY-Pe.clientY+i.y)/(a||1)+(u?u[1]-Nt[1]:0)/(a||1);if(!E.active&&!Ye){if(n&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}if(D){r?(r.e+=c-(Pt||0),r.f+=f-(Mt||0)):r={a:1,b:0,c:0,d:1,e:c,f};var d="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");S(D,"webkitTransform",d),S(D,"mozTransform",d),S(D,"msTransform",d),S(D,"transform",d),Pt=c,Mt=f,de=s}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!D){var t=this.options.fallbackOnBody?document.body:F,o=X(g,!0,gt,!0,t),n=this.options;if(gt){for(K=t;S(K,"position")==="static"&&S(K,"transform")==="none"&&K!==document;)K=K.parentNode;K!==document.body&&K!==document.documentElement?(K===document&&(K=ge()),o.top+=K.scrollTop,o.left+=K.scrollLeft):K=ge(),Nt=cn(K)}D=g.cloneNode(!0),ie(D,n.ghostClass,!1),ie(D,n.fallbackClass,!0),ie(D,n.dragClass,!0),S(D,"transition",""),S(D,"transform",""),S(D,"box-sizing","border-box"),S(D,"margin",0),S(D,"top",o.top),S(D,"left",o.left),S(D,"width",o.width),S(D,"height",o.height),S(D,"opacity","0.8"),S(D,"position",gt?"absolute":"fixed"),S(D,"zIndex","100000"),S(D,"pointerEvents","none"),E.ghost=D,t.appendChild(D),S(D,"transform-origin",fn/parseInt(D.style.width)*100+"% "+dn/parseInt(D.style.height)*100+"%")}},_onDragStart:function(t,o){var n=this,i=t.dataTransfer,s=n.options;if(te("dragStart",this,{evt:t}),E.eventCanceled){this._onDrop();return}te("setupClone",this),E.eventCanceled||(M=En(g),M.removeAttribute("id"),M.draggable=!1,M.style["will-change"]="",this._hideClone(),ie(M,this.options.chosenClass,!1),E.clone=M),n.cloneId=St(function(){te("clone",n),!E.eventCanceled&&(n.options.removeCloneOnHide||F.insertBefore(M,g),n._hideClone(),J({sortable:n,name:"clone"}))}),!o&&ie(g,s.dragClass,!0),o?(It=!0,n._loopId=setInterval(n._emulateDragOver,50)):(k(document,"mouseup",n._onDrop),k(document,"touchend",n._onDrop),k(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",s.setData&&s.setData.call(n,i,g)),V(document,"drop",n),S(g,"transform","translateZ(0)")),Ye=!0,n._dragStartId=St(n._dragStarted.bind(n,o,t)),V(document,"selectstart",n),Ze=!0,tt&&S(document.body,"user-select","none")},_onDragOver:function(t){var o=this.el,n=t.target,i,s,r,l=this.options,a=l.group,u=E.active,c=ht===a,f=l.sort,d=j||u,p,b=this,v=!1;if(Yt)return;function L(h,m){te(h,b,be({evt:t,isOwner:c,axis:p?"vertical":"horizontal",revert:r,dragRect:i,targetRect:s,canSort:f,fromSortable:d,target:n,completed:$,onMove:function(_,N){return bt(F,o,g,i,_,X(_),t,N)},changed:x},m))}function C(){L("dragOverAnimationCapture"),b.captureAnimationState(),b!==d&&d.captureAnimationState()}function $(h){return L("dragOverCompleted",{insertion:h}),h&&(c?u._hideClone():u._showClone(b),b!==d&&(ie(g,j?j.options.ghostClass:u.options.ghostClass,!1),ie(g,l.ghostClass,!0)),j!==b&&b!==E.active?j=b:b===E.active&&j&&(j=null),d===b&&(b._ignoreWhileAnimating=n),b.animateAll(function(){L("dragOverAnimationComplete"),b._ignoreWhileAnimating=null}),b!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(n===g&&!g.animated||n===o&&!n.animated)&&(Xe=null),!l.dragoverBubble&&!t.rootEl&&n!==document&&(g.parentNode[le]._isOutsideThisEl(t.target),!h&&Me(t)),!l.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),v=!0}function x(){ae=ce(g),Oe=ce(g,l.draggable),J({sortable:b,name:"change",toEl:o,newIndex:ae,newDraggableIndex:Oe,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),n=pe(n,l.draggable,o,!0),L("dragOver"),E.eventCanceled)return v;if(g.contains(t.target)||n.animated&&n.animatingX&&n.animatingY||b._ignoreWhileAnimating===n)return $(!1);if(It=!1,u&&!l.disabled&&(c?f||(r=B!==F):j===this||(this.lastPutMode=ht.checkPull(this,u,g,t))&&a.checkPut(this,u,g,t))){if(p=this._getDirection(t,n)==="vertical",i=X(g),L("dragOverValid"),E.eventCanceled)return v;if(r)return B=F,C(),this._hideClone(),L("revert"),E.eventCanceled||(Ne?F.insertBefore(g,Ne):F.appendChild(g)),$(!0);var P=Zt(o,l.draggable);if(!P||Jo(t,p,this)&&!P.animated){if(P===g)return $(!1);if(P&&o===t.target&&(n=P),n&&(s=X(n)),bt(F,o,g,i,n,s,t,!!n)!==!1)return C(),P&&P.nextSibling?o.insertBefore(g,P.nextSibling):o.appendChild(g),B=o,x(),$(!0)}else if(P&&Zo(t,p,this)){var Y=Ge(o,0,l,!0);if(Y===g)return $(!1);if(n=Y,s=X(n),bt(F,o,g,i,n,s,t,!1)!==!1)return C(),o.insertBefore(g,Y),B=o,x(),$(!0)}else if(n.parentNode===o){s=X(n);var G=0,he,Le=g.parentNode!==o,Z=!Uo(g.animated&&g.toRect||i,n.animated&&n.toRect||s,p),Re=p?"top":"left",Q=un(n,"top","top")||un(g,"top","top"),Fe=Q?Q.scrollTop:void 0;Xe!==n&&(he=s[Re],at=!1,pt=!Z&&l.invertSwap||Le),G=ei(t,n,s,p,Z?1:l.swapThreshold,l.invertedSwapThreshold==null?l.swapThreshold:l.invertedSwapThreshold,pt,Xe===n);var fe;if(G!==0){var we=ce(g);do we-=G,fe=B.children[we];while(fe&&(S(fe,"display")==="none"||fe===D))}if(G===0||fe===n)return $(!1);Xe=n,it=G;var $e=n.nextElementSibling,ue=!1;ue=G===1;var xe=bt(F,o,g,i,n,s,t,ue);if(xe!==!1)return(xe===1||xe===-1)&&(ue=xe===1),Yt=!0,setTimeout(Ko,30),C(),ue&&!$e?o.appendChild(g):n.parentNode.insertBefore(g,ue?$e:n),Q&&Sn(Q,0,Fe-Q.scrollTop),B=g.parentNode,he!==void 0&&!pt&&(Ct=Math.abs(he-X(n)[Re])),x(),$(!0)}if(o.contains(g))return $(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){k(document,"mousemove",this._onTouchMove),k(document,"touchmove",this._onTouchMove),k(document,"pointermove",this._onTouchMove),k(document,"dragover",Me),k(document,"mousemove",Me),k(document,"touchmove",Me)},_offUpEvents:function(){var t=this.el.ownerDocument;k(t,"mouseup",this._onDrop),k(t,"touchend",this._onDrop),k(t,"pointerup",this._onDrop),k(t,"touchcancel",this._onDrop),k(document,"selectstart",this)},_onDrop:function(t){var o=this.el,n=this.options;if(ae=ce(g),Oe=ce(g,n.draggable),te("drop",this,{evt:t}),B=g&&g.parentNode,ae=ce(g),Oe=ce(g,n.draggable),E.eventCanceled){this._nulling();return}Ye=!1,pt=!1,at=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Wt(this.cloneId),Wt(this._dragStartId),this.nativeDraggable&&(k(document,"drop",this),k(o,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),tt&&S(document.body,"user-select",""),S(g,"transform",""),t&&(Ze&&(t.cancelable&&t.preventDefault(),!n.dropBubble&&t.stopPropagation()),D&&D.parentNode&&D.parentNode.removeChild(D),(F===B||j&&j.lastPutMode!=="clone")&&M&&M.parentNode&&M.parentNode.removeChild(M),g&&(this.nativeDraggable&&k(g,"dragend",this),Bt(g),g.style["will-change"]="",Ze&&!Ye&&ie(g,j?j.options.ghostClass:this.options.ghostClass,!1),ie(g,this.options.chosenClass,!1),J({sortable:this,name:"unchoose",toEl:B,newIndex:null,newDraggableIndex:null,originalEvent:t}),F!==B?(ae>=0&&(J({rootEl:B,name:"add",toEl:B,fromEl:F,originalEvent:t}),J({sortable:this,name:"remove",toEl:B,originalEvent:t}),J({rootEl:B,name:"sort",toEl:B,fromEl:F,originalEvent:t}),J({sortable:this,name:"sort",toEl:B,originalEvent:t})),j&&j.save()):ae!==We&&ae>=0&&(J({sortable:this,name:"update",toEl:B,originalEvent:t}),J({sortable:this,name:"sort",toEl:B,originalEvent:t})),E.active&&((ae==null||ae===-1)&&(ae=We,Oe=ot),J({sortable:this,name:"end",toEl:B,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){te("nulling",this),F=g=B=D=Ne=M=yt=Ve=Pe=de=Ze=ae=Oe=We=ot=Xe=it=j=ht=E.dragged=E.ghost=E.clone=E.active=null,$t.forEach(function(t){t.checked=!0}),$t.length=Pt=Mt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":g&&(this._onDragOver(t),Qo(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],o,n=this.el.children,i=0,s=n.length,r=this.options;i<s;i++)o=n[i],pe(o,r.draggable,this.el,!1)&&t.push(o.getAttribute(r.dataIdAttr)||ni(o));return t},sort:function(t,o){var n={},i=this.el;this.toArray().forEach(function(s,r){var l=i.children[r];pe(l,this.options.draggable,i,!1)&&(n[s]=l)},this),o&&this.captureAnimationState(),t.forEach(function(s){n[s]&&(i.removeChild(n[s]),i.appendChild(n[s]))}),o&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,o){return pe(t,o||this.options.draggable,this.el,!1)},option:function(t,o){var n=this.options;if(o===void 0)return n[t];var i=ct.modifyOption(this,t,o);typeof i!="undefined"?n[t]=i:n[t]=o,t==="group"&&In(n)},destroy:function(){te("destroy",this);var t=this.el;t[le]=null,k(t,"mousedown",this._onTapStart),k(t,"touchstart",this._onTapStart),k(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(k(t,"dragover",this),k(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(o){o.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Lt.splice(Lt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Ve){if(te("hideClone",this),E.eventCanceled)return;S(M,"display","none"),this.options.removeCloneOnHide&&M.parentNode&&M.parentNode.removeChild(M),Ve=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Ve){if(te("showClone",this),E.eventCanceled)return;g.parentNode==F&&!this.options.group.revertClone?F.insertBefore(M,g):Ne?F.insertBefore(M,Ne):F.appendChild(M),this.options.group.revertClone&&this.animate(g,M),S(M,"display",""),Ve=!1}}};function Qo(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function bt(e,t,o,n,i,s,r,l){var a,u=e[le],c=u.options.onMove,f;return window.CustomEvent&&!Ie&&!ut?a=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(a=document.createEvent("Event"),a.initEvent("move",!0,!0)),a.to=t,a.from=e,a.dragged=o,a.draggedRect=n,a.related=i||t,a.relatedRect=s||X(t),a.willInsertAfter=l,a.originalEvent=r,e.dispatchEvent(a),c&&(f=c.call(u,a,r)),f}function Bt(e){e.draggable=!1}function Ko(){Yt=!1}function Zo(e,t,o){var n=X(Ge(o.el,0,o.options,!0)),i=10;return t?e.clientX<n.left-i||e.clientY<n.top&&e.clientX<n.right:e.clientY<n.top-i||e.clientY<n.bottom&&e.clientX<n.left}function Jo(e,t,o){var n=X(Zt(o.el,o.options.draggable)),i=10;return t?e.clientX>n.right+i||e.clientX<=n.right&&e.clientY>n.bottom&&e.clientX>=n.left:e.clientX>n.right&&e.clientY>n.top||e.clientX<=n.right&&e.clientY>n.bottom+i}function ei(e,t,o,n,i,s,r,l){var a=n?e.clientY:e.clientX,u=n?o.height:o.width,c=n?o.top:o.left,f=n?o.bottom:o.right,d=!1;if(!r){if(l&&Ct<u*i){if(!at&&(it===1?a>c+u*s/2:a<f-u*s/2)&&(at=!0),at)d=!0;else if(it===1?a<c+Ct:a>f-Ct)return-it}else if(a>c+u*(1-i)/2&&a<f-u*(1-i)/2)return ti(t)}return d=d||r,d&&(a<c+u*s/2||a>f-u*s/2)?a>c+u/2?1:-1:0}function ti(e){return ce(g)<ce(e)?1:-1}function ni(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,o=t.length,n=0;o--;)n+=t.charCodeAt(o);return n.toString(36)}function oi(e){$t.length=0;for(var t=e.getElementsByTagName("input"),o=t.length;o--;){var n=t[o];n.checked&&$t.push(n)}}function St(e){return setTimeout(e,0)}function Wt(e){return clearTimeout(e)}Ot&&V(document,"touchmove",function(e){(E.active||Ye)&&e.cancelable&&e.preventDefault()});E.utils={on:V,off:k,css:S,find:yn,is:function(t,o){return!!pe(t,o,t,!1)},extend:No,throttle:Cn,closest:pe,toggleClass:ie,clone:En,index:ce,nextTick:St,cancelNextTick:Wt,detectDirection:Dn,getChild:Ge};E.get=function(e){return e[le]};E.mount=function(){for(var e=arguments.length,t=new Array(e),o=0;o<e;o++)t[o]=arguments[o];t[0].constructor===Array&&(t=t[0]),t.forEach(function(n){if(!n.prototype||!n.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(n));n.utils&&(E.utils=be(be({},E.utils),n.utils)),ct.mount(n)})};E.create=function(e,t){return new E(e,t)};E.version=Fo;var H=[],Je,Ut,jt=!1,Ht,zt,xt,et;function ii(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(o){var n=o.originalEvent;this.sortable.nativeDraggable?V(document,"dragover",this._handleAutoScroll):this.options.supportPointer?V(document,"pointermove",this._handleFallbackAutoScroll):n.touches?V(document,"touchmove",this._handleFallbackAutoScroll):V(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(o){var n=o.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?k(document,"dragover",this._handleAutoScroll):(k(document,"pointermove",this._handleFallbackAutoScroll),k(document,"touchmove",this._handleFallbackAutoScroll),k(document,"mousemove",this._handleFallbackAutoScroll)),hn(),Et(),Bo()},nulling:function(){xt=Ut=Je=jt=et=Ht=zt=null,H.length=0},_handleFallbackAutoScroll:function(o){this._handleAutoScroll(o,!0)},_handleAutoScroll:function(o,n){var i=this,s=(o.touches?o.touches[0]:o).clientX,r=(o.touches?o.touches[0]:o).clientY,l=document.elementFromPoint(s,r);if(xt=o,n||this.options.forceAutoScrollFallback||ut||Ie||tt){qt(o,this.options,l,n);var a=Ae(l,!0);jt&&(!et||s!==Ht||r!==zt)&&(et&&hn(),et=setInterval(function(){var u=Ae(document.elementFromPoint(s,r),!0);u!==a&&(a=u,Et()),qt(o,i.options,u,n)},10),Ht=s,zt=r)}else{if(!this.options.bubbleScroll||Ae(l,!0)===ge()){Et();return}qt(o,this.options,Ae(l,!1),!1)}}},Ee(e,{pluginName:"scroll",initializeByDefault:!0})}function Et(){H.forEach(function(e){clearInterval(e.pid)}),H=[]}function hn(){clearInterval(et)}var qt=Cn(function(e,t,o,n){if(!!t.scroll){var i=(e.touches?e.touches[0]:e).clientX,s=(e.touches?e.touches[0]:e).clientY,r=t.scrollSensitivity,l=t.scrollSpeed,a=ge(),u=!1,c;Ut!==o&&(Ut=o,Et(),Je=t.scroll,c=t.scrollFn,Je===!0&&(Je=Ae(o,!0)));var f=0,d=Je;do{var p=d,b=X(p),v=b.top,L=b.bottom,C=b.left,$=b.right,x=b.width,P=b.height,Y=void 0,G=void 0,he=p.scrollWidth,Le=p.scrollHeight,Z=S(p),Re=p.scrollLeft,Q=p.scrollTop;p===a?(Y=x<he&&(Z.overflowX==="auto"||Z.overflowX==="scroll"||Z.overflowX==="visible"),G=P<Le&&(Z.overflowY==="auto"||Z.overflowY==="scroll"||Z.overflowY==="visible")):(Y=x<he&&(Z.overflowX==="auto"||Z.overflowX==="scroll"),G=P<Le&&(Z.overflowY==="auto"||Z.overflowY==="scroll"));var Fe=Y&&(Math.abs($-i)<=r&&Re+x<he)-(Math.abs(C-i)<=r&&!!Re),fe=G&&(Math.abs(L-s)<=r&&Q+P<Le)-(Math.abs(v-s)<=r&&!!Q);if(!H[f])for(var we=0;we<=f;we++)H[we]||(H[we]={});(H[f].vx!=Fe||H[f].vy!=fe||H[f].el!==p)&&(H[f].el=p,H[f].vx=Fe,H[f].vy=fe,clearInterval(H[f].pid),(Fe!=0||fe!=0)&&(u=!0,H[f].pid=setInterval(function(){n&&this.layer===0&&E.active._onTouchMove(xt);var $e=H[this.layer].vy?H[this.layer].vy*l:0,ue=H[this.layer].vx?H[this.layer].vx*l:0;typeof c=="function"&&c.call(E.dragged.parentNode[le],ue,$e,e,xt,H[this.layer].el)!=="continue"||Sn(H[this.layer].el,ue,$e)}.bind({layer:f}),24))),f++}while(t.bubbleScroll&&d!==a&&(d=Ae(d,!1)));jt=u}},30),xn=function(t){var o=t.originalEvent,n=t.putSortable,i=t.dragEl,s=t.activeSortable,r=t.dispatchSortableEvent,l=t.hideGhostForTarget,a=t.unhideGhostForTarget;if(!!o){var u=n||s;l();var c=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:o,f=document.elementFromPoint(c.clientX,c.clientY);a(),u&&!u.el.contains(f)&&(r("spill"),this.onSpill({dragEl:i,putSortable:n}))}};function Jt(){}Jt.prototype={startIndex:null,dragStart:function(t){var o=t.oldDraggableIndex;this.startIndex=o},onSpill:function(t){var o=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var i=Ge(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(o,i):this.sortable.el.appendChild(o),this.sortable.animateAll(),n&&n.animateAll()},drop:xn};Ee(Jt,{pluginName:"revertOnSpill"});function en(){}en.prototype={onSpill:function(t){var o=t.dragEl,n=t.putSortable,i=n||this.sortable;i.captureAnimationState(),o.parentNode&&o.parentNode.removeChild(o),i.animateAll()},drop:xn};Ee(en,{pluginName:"removeOnSpill"});E.mount(new ii);E.mount(en,Jt);const ai=ne({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object,default:()=>({x:0,y:0})}},setup(e,{emit:t}){const o=Te({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"ele-RefreshRight"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"ele-Close"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"ele-CircleClose"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"ele-FolderDelete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),n=W(()=>e.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:e.dropdown.y}:e.dropdown),i=l=>{t("currentContextmenuClick",Object.assign({},{contextMenuClickId:l},o.item))},s=l=>{var a;o.item=l,(a=l.meta)!=null&&a.isAffix?o.dropdownList[1].affix=!0:o.dropdownList[1].affix=!1,r(),setTimeout(()=>{o.isShow=!0},10)},r=()=>{o.isShow=!1};return ze(()=>{document.body.addEventListener("click",r)}),Gt(()=>{document.body.removeEventListener("click",r)}),Tt(()=>e.dropdown,({x:l})=>{l+117>document.documentElement.clientWidth?o.arrowLeft=117-(document.documentElement.clientWidth-l):o.arrowLeft=10},{deep:!0}),{dropdowns:n,openContextmenu:s,closeContextmenu:r,onCurrentContextmenuClick:i,...De(o)}}}),ri={class:"el-dropdown-menu"},si=["onClick"];function li(e,t,o,n,i,s){const r=T("SvgIcon");return y(),U(Vn,{name:"el-zoom-in-center"},{default:O(()=>[Qt((y(),A("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:je(`top: ${e.dropdowns.y+5}px;left: ${e.dropdowns.x}px;`),key:Math.random()},[R("ul",ri,[(y(!0),A(me,null,Qe(e.dropdownList,(l,a)=>(y(),A(me,null,[l.affix?se("",!0):(y(),A("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:a,onClick:u=>e.onCurrentContextmenuClick(l.contextMenuClickId)},[I(r,{name:l.icon},null,8,["name"]),R("span",null,z(e.$t(l.txt)),1)],8,si))],64))),256))]),R("div",{class:"el-popper__arrow",style:je({left:`${e.arrowLeft}px`})},null,4)],4)),[[Kt,e.isShow]])]),_:1})}var ui=oe(ai,[["render",li],["__scopeId","data-v-0a3abf4a"]]);const ci=ne({name:"layoutTagsView",components:{Contextmenu:ui},setup(){const{proxy:e}=lt(),t=He([]),o=He(),n=He(),i=He(),s=ve(),r=rt(),l=st(),a=Te({routeActive:"",routePath:r.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),u=W(()=>s.state.themeConfig.themeConfig.tagsStyle),c=W(()=>s.state.themeConfig.themeConfig),f=h=>c.value.isShareTagsView?h.path===a.routePath:h.url?h.url===a.routeActive:h.path===a.routeActive,d=h=>{Ke.set("tagsViewList",h)},p=async()=>{a.routeActive=await Q(r),a.routePath=await r.meta.isDynamic?r.meta.isDynamicPath:r.path,a.tagsViewList=[],a.tagsViewRoutesList=s.state.tagsViewRoutes.tagsViewRoutes,b()},b=async()=>{Ke.get("tagsViewList")&&c.value.isCacheTagsView?a.tagsViewList=await Ke.get("tagsViewList"):(await a.tagsViewRoutesList.map(h=>{var m,w;((m=h.meta)==null?void 0:m.isAffix)&&!((w=h.meta)!=null&&w.isHide)&&(h.url=Q(h),a.tagsViewList.push({...h}))}),await C(r.path,r)),$e(c.value.isShareTagsView?a.routePath:a.routeActive)},v=async(h,m)=>{var N,ee;let w=m.meta.isDynamic?m.meta.isDynamicPath:h;if(a.tagsViewList.filter(q=>q.path===w&&At(m.meta.isDynamic?q.params?q.params:null:q.query?q.query:null,m.meta.isDynamic?m!=null&&m.params?m==null?void 0:m.params:null:m!=null&&m.query?m==null?void 0:m.query:null)).length<=0){let q=a.tagsViewRoutesList.find(ke=>ke.path===w);if((N=q.meta)!=null&&N.isAffix||((ee=q.meta)==null?void 0:ee.isLink)&&!q.meta.isIframe)return!1;m.meta.isDynamic?q.params=m.params:q.query=m.query,q.url=Q(q),a.tagsViewList.push({...q}),d(a.tagsViewList)}},L=(h,m)=>{let w=m.meta.isDynamic?m.meta.isDynamicPath:h;a.tagsViewList.forEach(_=>{_.path===w&&!At(m.meta.isDynamic?_.params?_.params:null:_.query?_.query:null,m.meta.isDynamic?m!=null&&m.params?m==null?void 0:m.params:null:m!=null&&m.query?m==null?void 0:m.query:null)&&(m.meta.isDynamic?_.params=m.params:_.query=m.query,_.url=Q(_),d(a.tagsViewList))})},C=(h,m)=>{wt(async()=>{var _;let w="";if(m&&m.meta.isDynamic){if(c.value.isShareTagsView?await L(h,m):await v(h,m),a.tagsViewList.some(N=>N.path===m.meta.isDynamicPath))return!1;w=a.tagsViewRoutesList.find(N=>N.path===m.meta.isDynamicPath)}else{if(c.value.isShareTagsView?await L(h,m):await v(h,m),a.tagsViewList.some(N=>N.path===h))return!1;w=a.tagsViewRoutesList.find(N=>N.path===h)}if(((_=w.meta)==null?void 0:_.isLink)&&!w.meta.isIframe)return!1;m&&m.meta.isDynamic?w.params=m!=null&&m.params?m==null?void 0:m.params:r.params:w.query=m!=null&&m.query?m==null?void 0:m.query:r.query,w.url=Q(w),await a.tagsViewList.push({...w}),await d(a.tagsViewList)})},$=h=>{e.mittBus.emit("onTagsViewRefreshRouterView",h)},x=h=>{a.tagsViewList.map((m,w,_)=>{var N;(N=m.meta)!=null&&N.isAffix||(c.value.isShareTagsView?m.path===h:m.url===h)&&(a.tagsViewList.splice(w,1),setTimeout(()=>{(a.tagsViewList.length===w&&c.value.isShareTagsView?a.routePath===h:a.routeActive===h)?_[_.length-1].meta.isDynamic?w!==_.length?l.push({name:_[w].name,params:_[w].params}):l.push({name:_[_.length-1].name,params:_[_.length-1].params}):w!==_.length?l.push({path:_[w].path,query:_[w].query}):l.push({path:_[_.length-1].path,query:_[_.length-1].query}):(a.tagsViewList.length!==w&&c.value.isShareTagsView?a.routePath===h:a.routeActive===h)&&(_[w].meta.isDynamic?l.push({name:_[w].name,params:_[w].params}):l.push({path:_[w].path,query:_[w].query}))},0))}),d(a.tagsViewList)},P=h=>{a.tagsViewList=[],a.tagsViewRoutesList.map(m=>{var w,_;((w=m.meta)==null?void 0:w.isAffix)&&!((_=m.meta)!=null&&_.isHide)&&a.tagsViewList.push({...m})}),C(h,r)},Y=()=>{a.tagsViewList=[],a.tagsViewRoutesList.map(h=>{var m,w;((m=h.meta)==null?void 0:m.isAffix)&&!((w=h.meta)!=null&&w.isHide)&&(a.tagsViewList.push({...h}),l.push({path:a.tagsViewList[a.tagsViewList.length-1].path}))}),d(a.tagsViewList)},G=async h=>{const m=a.tagsViewList.find(w=>c.value.isShareTagsView?w.path===h:w.url===h);m.meta.isDynamic?await l.push({name:m.name,params:m.params}):await l.push({name:m.name,query:m.query}),s.dispatch("tagsViewRoutes/setCurrenFullscreen",!0)},he=(h,m)=>(Ke.get("tagsViewList")?Ke.get("tagsViewList"):a.tagsViewList).find(_=>{if(_.path===h&&At(_.meta.isDynamic?_.params?_.params:null:_.query?_.query:null,m&&Object.keys(m||{}).length>0?m:null))return _;if(_.path===h&&Object.keys(m||{}).length<=0)return _}),Le=async h=>{const m=h.meta.isDynamic?h.params:h.query;if(!he(h.path,m))return Xt({type:"warning",message:"\u8BF7\u6B63\u786E\u8F93\u5165\u8DEF\u5F84\u53CA\u5B8C\u6574\u53C2\u6570\uFF08query\u3001params\uFF09"});const{path:w,name:_,params:N,query:ee,meta:q,url:ke}=he(h.path,m);switch(h.contextMenuClickId){case 0:q.isDynamic?await l.push({name:_,params:N}):await l.push({path:w,query:ee}),$(r.fullPath);break;case 1:x(c.value.isShareTagsView?w:ke);break;case 2:q.isDynamic?await l.push({name:_,params:N}):await l.push({path:w,query:ee}),P(w);break;case 3:Y();break;case 4:G(c.value.isShareTagsView?w:ke);break}},Z=(h,m)=>{const{clientX:w,clientY:_}=m;a.dropdown.x=w,a.dropdown.y=_,n.value.openContextmenu(h)},Re=(h,m)=>{a.tagsRefsIndex=m,l.push(h)},Q=h=>{let m=h.query&&Object.keys(h.query).length>0?h.query:h.params;if(!m||Object.keys(m).length<=0)return h.path;let w="";for(let _ in m)w+=m[_];return`${h.meta.isDynamic?h.meta.isDynamicPath:h.path}-${w}`},Fe=()=>{e.$refs.scrollbarRef.update()},fe=h=>{e.$refs.scrollbarRef.$refs.wrap$.scrollLeft+=h.wheelDelta/4},we=()=>{wt(()=>{if(t.value.length<=0)return!1;let h=t.value[a.tagsRefsIndex],m=a.tagsRefsIndex,w=t.value.length,_=t.value[0],N=t.value[t.value.length-1],ee=e.$refs.scrollbarRef.$refs.wrap$;if(!ee)return;let q=ee.scrollWidth,ke=ee.offsetWidth,tn=ee.scrollLeft,Vt=t.value[a.tagsRefsIndex-1],nn=t.value[a.tagsRefsIndex+1],ft="",dt="";h===_?ee.scrollLeft=0:h===N?ee.scrollLeft=q-ke:(m===0?ft=_.offsetLeft-5:ft=(Vt==null?void 0:Vt.offsetLeft)-5,m===w?dt=N.offsetLeft+N.offsetWidth+5:dt=nn.offsetLeft+nn.offsetWidth+5,dt>tn+ke?ee.scrollLeft=dt-ke:ft<tn&&(ee.scrollLeft=ft)),Fe()})},$e=h=>{wt(async()=>{let m=await a.tagsViewList;a.tagsRefsIndex=m.findIndex(w=>c.value.isShareTagsView?w.path===h:w.url===h),we()})},ue=async()=>{const h=document.querySelector(".layout-navbars-tagsview-ul");if(!h)return!1;a.sortable.el&&a.sortable.destroy(),a.sortable=E.create(h,{animation:300,dataIdAttr:"data-url",disabled:!c.value.isSortableTagsView,onEnd:()=>{const m=[];a.sortable.toArray().map(w=>{a.tagsViewList.map(_=>{_.url===w&&m.push({..._})})}),d(m)}})},xe=async()=>{await ue(),bn.isMobile()&&a.sortable.el&&a.sortable.destroy()};return pn(()=>{xe(),window.addEventListener("resize",xe),e.mittBus.on("onCurrentContextmenuClick",h=>{Le(h)}),e.mittBus.on("openOrCloseSortable",()=>{ue()}),e.mittBus.on("openShareTagsView",()=>{c.value.isShareTagsView&&(l.push("/"),a.tagsViewList=[],a.tagsViewRoutesList.map(h=>{var m,w;((m=h.meta)==null?void 0:m.isAffix)&&!((w=h.meta)!=null&&w.isHide)&&(h.url=Q(h),a.tagsViewList.push({...h}))}))})}),Gt(()=>{e.mittBus.off("onCurrentContextmenuClick"),e.mittBus.off("openOrCloseSortable"),e.mittBus.off("openShareTagsView"),window.removeEventListener("resize",xe)}),An(()=>{t.value=[]}),ze(()=>{p(),ue()}),kt(async h=>{a.routeActive=Q(h),a.routePath=h.meta.isDynamic?h.meta.isDynamicPath:h.path,await C(h.path,h),$e(c.value.isShareTagsView?a.routePath:a.routeActive)}),Tt(s.state,h=>{if(h.tagsViewRoutes.tagsViewRoutes.length===a.tagsViewRoutesList.length)return!1;p()}),{isActive:f,onContextmenu:Z,onTagsClick:Re,tagsRefs:t,contextmenuRef:n,scrollbarRef:o,tagsUlRef:i,onHandleScroll:fe,getThemeConfig:c,setTagsStyle:u,refreshCurrentTagsView:$,closeCurrentTagsView:x,onCurrentContextmenuClick:Le,...De(a)}}}),fi=["data-url","onContextmenu","onClick"],di={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont"};function mi(e,t,o,n,i,s){const r=T("SvgIcon"),l=T("el-scrollbar"),a=T("Contextmenu");return y(),A("div",{class:vt(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":e.getThemeConfig.layout==="classic"}])},[I(l,{ref:"scrollbarRef",onWheel:Be(e.onHandleScroll,["prevent"])},{default:O(()=>[R("ul",{class:vt(["layout-navbars-tagsview-ul",e.setTagsStyle]),ref:"tagsUlRef"},[(y(!0),A(me,null,Qe(e.tagsViewList,(u,c)=>{var f,d,p,b,v,L;return y(),A("li",{key:c,class:vt(["layout-navbars-tagsview-ul-li",{"is-active":e.isActive(u)}]),"data-url":u.url,onContextmenu:Be(C=>e.onContextmenu(u,C),["prevent"]),onClick:C=>e.onTagsClick(u,c),ref_for:!0,ref:C=>{C&&(e.tagsRefs[c]=C)}},[e.isActive(u)?(y(),A("i",di)):se("",!0),!e.isActive(u)&&e.getThemeConfig.isTagsviewIcon?(y(),U(r,{key:1,name:(f=u.meta)==null?void 0:f.icon,class:"pr5"},null,8,["name"])):se("",!0),R("span",null,z(((d=u.meta)==null?void 0:d.title.indexOf("."))>0?e.$t((p=u.meta)==null?void 0:p.title):(b=u.meta)==null?void 0:b.title),1),e.isActive(u)?(y(),A(me,{key:2},[I(r,{name:"ele-RefreshRight",class:"ml5 layout-navbars-tagsview-ul-li-refresh",onClick:t[0]||(t[0]=Be(C=>e.refreshCurrentTagsView(e.$route.fullPath),["stop"]))}),(v=u.meta)!=null&&v.isAffix?se("",!0):(y(),U(r,{key:0,name:"ele-Close",class:"layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:Be(C=>e.closeCurrentTagsView(e.getThemeConfig.isShareTagsView?u.path:u.url),["stop"])},null,8,["onClick"]))],64)):se("",!0),(L=u.meta)!=null&&L.isAffix?se("",!0):(y(),U(r,{key:3,name:"ele-Close",class:"layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:Be(C=>e.closeCurrentTagsView(e.getThemeConfig.isShareTagsView?u.path:u.url),["stop"])},null,8,["onClick"]))],42,fi)}),128))],2)]),_:1},8,["onWheel"]),I(a,{dropdown:e.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:e.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}var hi=oe(ci,[["render",mi],["__scopeId","data-v-1fb11c87"]]);const pi=ne({name:"layoutNavBars",components:{BreadcrumbIndex:Oo,TagsView:hi},setup(){const e=ve();return{setShowTagsView:W(()=>{let{layout:o,isTagsview:n}=e.state.themeConfig.themeConfig;return o!=="classic"&&n})}}}),gi={class:"layout-navbars-container"};function bi(e,t,o,n,i,s){const r=T("BreadcrumbIndex"),l=T("TagsView");return y(),A("div",gi,[I(r),e.setShowTagsView?(y(),U(l,{key:0})):se("",!0)])}var vi=oe(pi,[["render",bi],["__scopeId","data-v-d25df07a"]]);const wi=ne({name:"layoutHeader",components:{NavBarsIndex:vi},setup(){const e=ve(),t=W(()=>{let{isTagsview:n,layout:i}=e.state.themeConfig.themeConfig;return n&&i!=="classic"?"84px":"50px"}),o=W(()=>e.state.tagsViewRoutes.isTagsViewCurrenFull);return{setHeaderHeight:t,isTagsViewCurrenFull:o}}});function _i(e,t,o,n,i,s){const r=T("NavBarsIndex"),l=T("el-header");return Qt((y(),U(l,{class:"layout-header",height:e.setHeaderHeight},{default:O(()=>[I(r)]),_:1},8,["height"])),[[Kt,!e.isTagsViewCurrenFull]])}var Vi=oe(wi,[["render",_i]]);const yi=ne({name:"layoutFooter",setup(){const e=Te({isDelayFooter:!0});return kt(()=>{setTimeout(()=>{e.isDelayFooter=!1,setTimeout(()=>{e.isDelayFooter=!0},800)},0)}),{...De(e)}}}),Ci=e=>(Rn("data-v-2e655ce1"),e=e(),Fn(),e),Si={class:"layout-footer mt15"},Ei=Ci(()=>R("div",{class:"layout-footer-warp"},[R("div",null,"Copyright \xA9 2021-2023 Sagoo All Rights Reserved.")],-1)),Ti=[Ei];function Di(e,t,o,n,i,s){return Qt((y(),A("div",Si,Ti,512)),[[Kt,e.isDelayFooter]])}var Ii=oe(yi,[["render",Di],["__scopeId","data-v-2e655ce1"]]);const Li=ne({name:"layoutMain",components:{LayoutParentView:zn,Footer:Ii},setup(){const{proxy:e}=lt(),t=rt(),o=ve(),n=Te({headerHeight:"",currentRouteMeta:{}}),i=W(()=>o.state.themeConfig.themeConfig),s=()=>{var u;const l=((u=n.currentRouteMeta)==null?void 0:u.isLink)&&n.currentRouteMeta.isIframe;let{isTagsview:a}=o.state.themeConfig.themeConfig;return a?n.headerHeight=l?"85px":"114px":n.headerHeight="51px"},r=()=>{n.currentRouteMeta=t.meta};return ze(async()=>{await r(),s()}),Tt(()=>t.path,()=>{var a;n.currentRouteMeta=t.meta;const l=((a=n.currentRouteMeta)==null?void 0:a.isLink)&&n.currentRouteMeta.isIframe;n.headerHeight=l?"85px":"114px",e.$refs.layoutScrollbarRef.update()}),Tt(o.state.themeConfig.themeConfig,l=>{var u;n.currentRouteMeta=t.meta;const a=((u=n.currentRouteMeta)==null?void 0:u.isLink)&&n.currentRouteMeta.isIframe;if(n.headerHeight=l.isTagsview?a?"85px":"114px":"51px",l.isFixedHeaderChange!==l.isFixedHeader){if(!e.$refs.layoutScrollbarRef)return!1;e.$refs.layoutScrollbarRef.update()}}),{getThemeConfig:i,...De(n)}}});function $i(e,t,o,n,i,s){const r=T("LayoutParentView"),l=T("Footer"),a=T("el-scrollbar"),u=T("el-main");return y(),U(u,{class:"layout-main"},{default:O(()=>{var c;return[I(a,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:je({padding:((c=e.currentRouteMeta)==null?void 0:c.isLink)&&e.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:O(()=>[I(r,{style:je({height:`calc(100vh - ${e.headerHeight})`})},null,8,["style"]),e.getThemeConfig.isFooter?(y(),U(l,{key:0})):se("",!0)]),_:1},8,["style"])]}),_:1})}var Ai=oe(Li,[["render",$i]]);export{Vi as H,jn as L,Ai as M,Zn as S,hi as T};
