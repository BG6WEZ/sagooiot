import N from"./edit.170118430469514.js";import{_ as M,b as w,h as S,E as U}from"./index.1701184304695.js";import{L as q,h as B,a2 as Q,k as Y,ab as j,a as G,_ as e,T as t,ai as l,as as C,o as s,b as H,U as n,S as i,Y as r}from"./vue.1701184304695.js";import"./validator.1701184304695.js";const I=q({name:"systemOrg",components:{EditDept:N},setup(){const a=B(),d=B(),c=Q({tableData:{data:[],loading:!1,param:{name:"",status:-1}}}),v=()=>{f()},f=()=>{c.tableData.loading=!0,w.org.getList(c.tableData.param).then(o=>{c.tableData.data=o}).finally(()=>c.tableData.loading=!1)},g=o=>{a.value.openDialog(o==null?void 0:o.id)},F=o=>{a.value.openDialog(o)},D=()=>{d.value.resetFields(),f()},b=o=>{S.confirm(`\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u7EC4\u7EC7\uFF1A${o.name}, \u662F\u5426\u7EE7\u7EED?`,"\u63D0\u793A",{confirmButtonText:"\u5220\u9664",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{w.org.del(o.id).then(()=>{U.success("\u5220\u9664\u6210\u529F"),f()})}).catch(()=>{})};return Y(()=>{v()}),{queryRef:d,resetQuery:D,editDeptRef:a,deptList:f,onOpenAddDept:g,onOpenEditDept:F,onTabelRowDel:b,...j(c)}}}),J={class:"system-dept-container"},K={class:"system-dept-search mb15"},P=r(" \u67E5\u8BE2 "),W=r(" \u91CD\u7F6E "),X=r(" \u65B0\u589E\u533A\u57DF "),Z=r("\u542F\u7528"),x=r("\u7981\u7528"),ee=r("\u65B0\u589E"),te=r("\u4FEE\u6539"),ae=r("\u5220\u9664");function le(a,d,c,v,f,g){const F=l("el-input"),D=l("el-form-item"),b=l("el-option"),o=l("el-select"),A=l("ele-Search"),E=l("el-icon"),p=l("el-button"),z=l("ele-Refresh"),R=l("ele-FolderAdd"),V=l("el-form"),_=l("el-table-column"),y=l("el-tag"),$=l("el-table"),L=l("el-card"),T=l("EditDept"),h=C("auth"),m=C("col"),O=C("loading");return s(),G("div",J,[e(L,{shadow:"hover"},{default:t(()=>[H("div",K,[e(V,{model:a.tableData.param,inline:!0,ref:"queryRef"},{default:t(()=>[e(D,{label:"\u533A\u57DF\u540D\u79F0",prop:"name"},{default:t(()=>[e(F,{size:"default",modelValue:a.tableData.param.name,"onUpdate:modelValue":d[0]||(d[0]=u=>a.tableData.param.name=u),placeholder:"\u8BF7\u8F93\u5165\u533A\u57DF\u540D\u79F0",class:"w-50",clearable:""},null,8,["modelValue"])]),_:1}),e(D,{label:"\u72B6\u6001",prop:"status"},{default:t(()=>[e(o,{size:"default",placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",class:"w-50",modelValue:a.tableData.param.status,"onUpdate:modelValue":d[1]||(d[1]=u=>a.tableData.param.status=u)},{default:t(()=>[e(b,{label:"\u5168\u90E8",value:-1}),e(b,{label:"\u542F\u7528",value:1}),e(b,{label:"\u7981\u7528",value:0})]),_:1},8,["modelValue"])]),_:1}),e(D,null,{default:t(()=>[e(p,{size:"default",type:"primary",class:"ml10",onClick:a.deptList},{default:t(()=>[e(E,null,{default:t(()=>[e(A)]),_:1}),P]),_:1},8,["onClick"]),e(p,{size:"default",onClick:d[2]||(d[2]=u=>a.resetQuery())},{default:t(()=>[e(E,null,{default:t(()=>[e(z)]),_:1}),W]),_:1}),n((s(),i(p,{size:"default",type:"success",class:"ml10",onClick:a.onOpenAddDept},{default:t(()=>[e(E,null,{default:t(()=>[e(R)]),_:1}),X]),_:1},8,["onClick"])),[[h,"add"]])]),_:1})]),_:1},8,["model"])]),n((s(),i($,{data:a.tableData.data,style:{width:"100%"},"default-expand-all":"","row-key":"id","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:t(()=>[n(e(_,{prop:"name",label:"\u533A\u57DF\u540D\u79F0","show-overflow-tooltip":""},null,512),[[m,"name"]]),n(e(_,{prop:"number",label:"\u533A\u57DF\u7F16\u53F7","show-overflow-tooltip":""},null,512),[[m,"number"]]),n((s(),i(_,{prop:"status",label:"\u533A\u57DF\u72B6\u6001",align:"center","min-width":"120"},{default:t(u=>[u.row.status===1?(s(),i(y,{key:0,type:"success",size:"small"},{default:t(()=>[Z]),_:1})):(s(),i(y,{key:1,type:"info",size:"small"},{default:t(()=>[x]),_:1}))]),_:1})),[[m,"status"]]),n(e(_,{prop:"orderNum",label:"\u6392\u5E8F",align:"center","min-width":"120"},null,512),[[m,"orderNum"]]),n(e(_,{prop:"createdAt",label:"\u521B\u5EFA\u65F6\u95F4",align:"center","min-width":"180"},null,512),[[m,"createdAt"]]),n((s(),i(_,{label:"\u64CD\u4F5C",align:"center",width:"140"},{default:t(u=>[n((s(),i(p,{size:"small",type:"text",onClick:k=>a.onOpenAddDept(u.row)},{default:t(()=>[ee]),_:2},1032,["onClick"])),[[h,"add"]]),n((s(),i(p,{size:"small",text:"",type:"warning",onClick:k=>a.onOpenEditDept(u.row)},{default:t(()=>[te]),_:2},1032,["onClick"])),[[h,"edit"]]),n((s(),i(p,{size:"small",text:"",type:"danger",onClick:k=>a.onTabelRowDel(u.row)},{default:t(()=>[ae]),_:2},1032,["onClick"])),[[h,"del"]])]),_:1})),[[m,"handle"]])]),_:1},8,["data"])),[[O,a.tableData.loading]])]),_:1}),e(T,{ref:"editDeptRef",onDeptList:a.deptList},null,8,["onDeptList"])])}var de=M(I,[["render",le]]);export{de as default};
