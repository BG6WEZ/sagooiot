import{_ as v,b as C,E as A}from"./index.1701184304695.js";import{L as h,h as S,a2 as P,ab as U,a as y,_ as e,T as o,j as N,e as I,ai as s,o as b,b as i,Y as a,Z as T,F as w,a8 as G,S as L,aB as $,aC as q}from"./vue.1701184304695.js";const z=h({name:"systemEditDicData",props:{sysYesNoOptions:{type:Array,default:()=>[]}},setup(u,{emit:l}){const c=S(null),{proxy:E}=N(),n=P({isShowDialog:!1,ruleForm:{jobName:"",jobParams:"",jobGroup:"",invokeTarget:"",cronExpression:"",remark:"",misfirePolicy:1,status:0},rules:{jobName:[{required:!0,message:"\u4EFB\u52A1\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],invokeTarget:[{required:!0,message:"\u6267\u884C\u65B9\u6CD5\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],cronExpression:[{required:!0,message:"cron\u8868\u8FBE\u5F0F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}});let{sys_job_group:g}=E.useDict("sys_job_group");const m=r=>{d(),r&&(C.task.detail(r.jobId).then(_=>{const F=_;n.ruleForm=F}),n.ruleForm=r),n.isShowDialog=!0},d=()=>{n.ruleForm={jobName:"",jobParams:"",jobGroup:"",invokeTarget:"",cronExpression:"",remark:"",misfirePolicy:1,status:0}},p=()=>{n.isShowDialog=!1};return{openDialog:m,closeDialog:p,onCancel:()=>{p()},onSubmit:()=>{const r=I(c);!r||r.validate(_=>{_&&(n.ruleForm.jobId?C.task.edit(n.ruleForm).then(()=>{A.success("\u4EFB\u52A1\u4FEE\u6539\u6210\u529F"),p(),l("dataList")}):C.task.add(n.ruleForm).then(()=>{A.success("\u4EFB\u52A1\u6DFB\u52A0\u6210\u529F"),p(),l("dataList")}))})},formRef:c,sys_job_group:g,...U(n)}}}),R=u=>($("data-v-1662b554"),u=u(),q(),u),W={class:"system-edit-dic-container"},Q={class:"flex align-center"},Y=a(" \u8C03\u7528\u65B9\u6CD5 "),M={class:"flex align-center"},O=a(" \u6267\u884C\u53C2\u6570 "),Z=a(" \u4EE5|\u5206\u9694\u591A\u4E2A\u53C2\u6570 \u793A\u4F8B\uFF1Aparam1|param1 "),H=R(()=>i("br",null,null,-1)),J=a("\u53C2\u6570\u8BF4\u660E\uFF1A\u652F\u6301\u5B57\u7B26\u4E32\uFF0C\u5E03\u5C14\u7C7B\u578B\uFF0C\u957F\u6574\u578B\uFF0C\u6D6E\u70B9\u578B\uFF0C\u6574\u578B "),K={style:{"list-style":"none"}},X=a(" */5 * * * * ? : \u6BCF\u96945\u79D2\u6267\u884C\u4E00\u6B21 "),x=a(" 20 */1 * * * ? : \u6BCF\u96941\u5206\u949F\u6267\u884C\u4E00\u6B21 "),ee=a(" 30 0 23 * * ? : \u6BCF\u592923\u70B9\u6267\u884C\u4E00\u6B21 "),ue=a(" 0 0 1 * * ? : \u6BCF\u5929\u51CC\u66681\u70B9\u6267\u884C\u4E00\u6B21 "),oe=a(" 0 0 1 1 * ? : \u6BCF\u67081\u53F7\u51CC\u66681\u70B9\u6267\u884C\u4E00\u6B21 "),le=a("\u91CD\u590D\u6267\u884C"),te=a("\u6267\u884C\u4E00\u6B21"),ae=a("\u6B63\u5E38"),re=a("\u6682\u505C"),se={class:"dialog-footer"},ne=a("\u53D6 \u6D88");function de(u,l,c,E,n,g){const m=s("el-input"),d=s("el-form-item"),p=s("el-option"),V=s("el-select"),B=s("ele-QuestionFilled"),r=s("el-icon"),_=s("el-tooltip"),F=s("ele-WarningFilled"),f=s("el-radio"),j=s("el-form"),D=s("el-button"),k=s("el-dialog");return b(),y("div",W,[e(k,{title:(u.ruleForm.jobId?"\u4FEE\u6539":"\u6DFB\u52A0")+"\u4EFB\u52A1",modelValue:u.isShowDialog,"onUpdate:modelValue":l[10]||(l[10]=t=>u.isShowDialog=t),width:"650px"},{footer:o(()=>[i("span",se,[e(D,{onClick:u.onCancel,size:"default"},{default:o(()=>[ne]),_:1},8,["onClick"]),e(D,{type:"primary",onClick:u.onSubmit,size:"default"},{default:o(()=>[a(T(u.ruleForm.jobId?"\u4FEE \u6539":"\u6DFB \u52A0"),1)]),_:1},8,["onClick"])])]),default:o(()=>[e(j,{model:u.ruleForm,ref:"formRef",rules:u.rules,size:"default","label-width":"100px"},{default:o(()=>[e(d,{label:"\u4EFB\u52A1\u540D\u79F0",prop:"jobName"},{default:o(()=>[e(m,{modelValue:u.ruleForm.jobName,"onUpdate:modelValue":l[0]||(l[0]=t=>u.ruleForm.jobName=t),placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u540D\u79F0"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u4EFB\u52A1\u63CF\u8FF0",prop:"remark"},{default:o(()=>[e(m,{modelValue:u.ruleForm.remark,"onUpdate:modelValue":l[1]||(l[1]=t=>u.ruleForm.remark=t),placeholder:"\u8BF7\u8F93\u5165\u4EFB\u52A1\u63CF\u8FF0",type:"textarea"},null,8,["modelValue"])]),_:1}),e(d,{label:"\u4EFB\u52A1\u5206\u7EC4",prop:"jobGroup"},{default:o(()=>[e(V,{modelValue:u.ruleForm.jobGroup,"onUpdate:modelValue":l[2]||(l[2]=t=>u.ruleForm.jobGroup=t),placeholder:"\u8BF7\u9009\u62E9"},{default:o(()=>[(b(!0),y(w,null,G(u.sys_job_group,t=>(b(),L(p,{key:t.value,label:t.label,value:t.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),e(d,{prop:"invokeTarget"},{label:o(()=>[i("div",Q,[Y,e(_,{class:"item",effect:"dark",content:"\u793A\u4F8B\uFF1Ademo1",placement:"top"},{default:o(()=>[e(r,null,{default:o(()=>[e(B)]),_:1})]),_:1})])]),default:o(()=>[e(m,{modelValue:u.ruleForm.invokeTarget,"onUpdate:modelValue":l[3]||(l[3]=t=>u.ruleForm.invokeTarget=t),placeholder:"\u8BF7\u8F93\u5165\u8C03\u7528\u65B9\u6CD5"},null,8,["modelValue"])]),_:1}),e(d,{prop:"jobParams"},{label:o(()=>[i("div",M,[O,e(_,{class:"item",effect:"dark",placement:"top"},{content:o(()=>[Z,H,J]),default:o(()=>[e(r,null,{default:o(()=>[e(B)]),_:1})]),_:1})])]),default:o(()=>[e(m,{modelValue:u.ruleForm.jobParams,"onUpdate:modelValue":l[4]||(l[4]=t=>u.ruleForm.jobParams=t),placeholder:"\u8BF7\u8F93\u5165\u6267\u884C\u53C2\u6570"},null,8,["modelValue"])]),_:1}),e(d,{label:"cron\u8868\u8FBE\u5F0F",prop:"cronExpression"},{default:o(()=>[e(m,{modelValue:u.ruleForm.cronExpression,"onUpdate:modelValue":l[5]||(l[5]=t=>u.ruleForm.cronExpression=t),placeholder:"\u8BF7\u8F93\u5165cron\u8868\u8FBE\u5F0F"},null,8,["modelValue"]),i("ul",K,[i("li",null,[e(r,null,{default:o(()=>[e(F)]),_:1}),X]),i("li",null,[e(r,null,{default:o(()=>[e(F)]),_:1}),x]),i("li",null,[e(r,null,{default:o(()=>[e(F)]),_:1}),ee]),i("li",null,[e(r,null,{default:o(()=>[e(F)]),_:1}),ue]),i("li",null,[e(r,null,{default:o(()=>[e(F)]),_:1}),oe])])]),_:1}),e(d,{label:"\u6267\u884C\u7B56\u7565",prop:"misfirePolicy"},{default:o(()=>[e(f,{modelValue:u.ruleForm.misfirePolicy,"onUpdate:modelValue":l[6]||(l[6]=t=>u.ruleForm.misfirePolicy=t),label:1},{default:o(()=>[le]),_:1},8,["modelValue"]),e(f,{modelValue:u.ruleForm.misfirePolicy,"onUpdate:modelValue":l[7]||(l[7]=t=>u.ruleForm.misfirePolicy=t),label:0},{default:o(()=>[te]),_:1},8,["modelValue"])]),_:1}),e(d,{label:"\u72B6\u6001",prop:"status"},{default:o(()=>[e(f,{modelValue:u.ruleForm.status,"onUpdate:modelValue":l[8]||(l[8]=t=>u.ruleForm.status=t),label:1},{default:o(()=>[ae]),_:1},8,["modelValue"]),e(f,{modelValue:u.ruleForm.status,"onUpdate:modelValue":l[9]||(l[9]=t=>u.ruleForm.status=t),label:0},{default:o(()=>[re]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}var Fe=v(z,[["render",de],["__scopeId","data-v-1662b554"]]);export{Fe as default};
