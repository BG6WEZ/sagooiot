import{_ as N,b as D,E}from"./index.1701184304695.js";import{L as B,h as b,a2 as w,ab as I,a as V,_ as a,T as s,e as P,ai as u,o as h,b as v,Y as k,Z as c,X as U}from"./vue.1701184304695.js";const S={parentId:-1,postName:"",postSort:0,status:1,remark:""},L=B({name:"systemEditPost",setup(e,{emit:t}){const p=b(null),_=b(),o=w({loading:!1,isShowDialog:!1,postData:[],formData:{...S},rules:{postName:[{required:!0,message:"\u5C97\u4F4D\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],postSort:[{required:!0,message:"\u5C97\u4F4D\u987A\u5E8F\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]},menuExpand:!1,menuNodeAll:!1,menuCheckStrictly:!1,menuProps:{children:"children",label:"title"}}),F=r=>{d(),D.post.getList({status:1}).then(m=>{o.postData=m||[]}),r&&(o.formData=r),o.isShowDialog=!0},i=()=>{o.isShowDialog=!1},n=()=>{i()},f=()=>{const r=P(p);!r||r.validate(m=>{m&&(o.loading=!0,o.formData.parentId||(o.formData.parentId=-1),o.formData.postId?D.post.edit(o.formData).then(()=>{E.success("\u5C97\u4F4D\u4FEE\u6539\u6210\u529F"),i(),t("getPostList")}).finally(()=>{o.loading=!1}):D.post.add(o.formData).then(()=>{E.success("\u5C97\u4F4D\u6DFB\u52A0\u6210\u529F"),i(),t("getPostList")}).finally(()=>{o.loading=!1}))})},d=()=>{o.menuCheckStrictly=!1,o.menuExpand=!1,o.menuNodeAll=!1,o.formData={...S}};return{openDialog:F,closeDialog:i,onCancel:n,onSubmit:f,menuRef:_,formRef:p,...I(o)}}}),R={class:"system-edit-post-container"},$={key:0},z={class:"dialog-footer"},q=k("\u53D6 \u6D88");function T(e,t,p,_,o,F){const i=u("el-cascader"),n=u("el-form-item"),f=u("el-col"),d=u("el-input"),r=u("el-input-number"),m=u("el-switch"),y=u("el-form"),g=u("el-button"),A=u("el-dialog");return h(),V("div",R,[a(A,{modelValue:e.isShowDialog,"onUpdate:modelValue":t[5]||(t[5]=l=>e.isShowDialog=l),title:(e.formData.postId?"\u4FEE\u6539":"\u6DFB\u52A0")+"\u5C97\u4F4D",width:"769px"},{footer:s(()=>[v("span",z,[a(g,{onClick:e.onCancel,size:"default"},{default:s(()=>[q]),_:1},8,["onClick"]),a(g,{type:"primary",onClick:e.onSubmit,size:"default",loading:e.loading},{default:s(()=>[k(c(e.formData.postId===0?"\u65B0 \u589E":"\u4FEE \u6539"),1)]),_:1},8,["onClick","loading"])])]),default:s(()=>[a(y,{ref:"formRef",model:e.formData,rules:e.rules,size:"default","label-width":"90px"},{default:s(()=>[a(f,{xs:24,sm:24,md:24,lg:24,xl:24,class:"mb20"},{default:s(()=>[a(n,{label:"\u4E0A\u7EA7\u5C97\u4F4D"},{default:s(()=>[a(i,{options:e.postData,props:{checkStrictly:!0,emitPath:!1,value:"postId",label:"postName"},placeholder:"\u8BF7\u9009\u62E9\u5C97\u4F4D",clearable:"",class:"w100",modelValue:e.formData.parentId,"onUpdate:modelValue":t[0]||(t[0]=l=>e.formData.parentId=l)},{default:s(({node:l,data:C})=>[v("span",null,c(C.postName),1),l.isLeaf?U("",!0):(h(),V("span",$," ("+c(C.children.length)+") ",1))]),_:1},8,["options","modelValue"])]),_:1})]),_:1}),a(n,{label:"\u5C97\u4F4D\u540D\u79F0",prop:"postName"},{default:s(()=>[a(d,{modelValue:e.formData.postName,"onUpdate:modelValue":t[1]||(t[1]=l=>e.formData.postName=l),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0"},null,8,["modelValue"])]),_:1}),a(n,{label:"\u5C97\u4F4D\u987A\u5E8F",prop:"postSort"},{default:s(()=>[a(r,{modelValue:e.formData.postSort,"onUpdate:modelValue":t[2]||(t[2]=l=>e.formData.postSort=l),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1}),a(n,{label:"\u5C97\u4F4D\u72B6\u6001",prop:"status"},{default:s(()=>[a(m,{modelValue:e.formData.status,"onUpdate:modelValue":t[3]||(t[3]=l=>e.formData.status=l),"active-value":1,"inactive-value":0,"inline-prompt":"","active-text":"\u542F","inactive-text":"\u7981"},null,8,["modelValue"])]),_:1}),a(n,{label:"\u5907\u6CE8",prop:"remark"},{default:s(()=>[a(d,{modelValue:e.formData.remark,"onUpdate:modelValue":t[4]||(t[4]=l=>e.formData.remark=l),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}var X=N(L,[["render",T],["__scopeId","data-v-a667b844"]]);export{X as default};
