import{a as F}from"./index.170118430469519.js";import{_ as N,E as U}from"./index.1701184304695.js";import{L,h as g,a as m,S as i,X as $,_ as n,T as u,ai as l,o,F as h,a8 as k,b as V,a9 as I,Y as f,Z as J}from"./vue.1701184304695.js";const M={class:"device-function"},O={class:"table-wrapper"},X={class:"btn"},Y=f("\u6267\u884C"),Z=f("\u6E05\u7A7A"),j=L({__name:"function",props:{productKey:String,deviceKey:String},setup(B){const y=B,_=g([]),d=g(!0);D();function D(){d.value=!0,F.tabDeviceFucntion.getList({key:y.productKey}).then(e=>{!e||(e.forEach(r=>r.result=""),_.value=e)}).finally(()=>d.value=!1)}function E(e){if(e.result="",e.inputs.some(a=>!a.value))return U.info("\u8BF7\u8F93\u5165\u5B8C\u6574\u53C2\u6570");e.loading=!0;const p={};e.inputs.forEach(({key:a,value:v})=>p[a]=v),F.tabDeviceFucntion.do({deviceKey:y.deviceKey,funcKey:e.key,params:p}).then(a=>{e.result=JSON.stringify(a,null,2)}).finally(()=>e.loading=!1)}function x(e){e.result=""}return(e,r)=>{const p=l("el-empty"),a=l("el-table-column"),v=l("el-option"),T=l("el-select"),b=l("el-input"),A=l("el-table"),C=l("el-button"),K=l("el-tab-pane"),S=l("el-tabs");return o(),m("div",M,[!d.value&&!_.value.length?(o(),i(p,{key:0,description:"\u6682\u65E0\u529F\u80FD\u5217\u8868\uFF0C\u8BF7\u5148\u5728\u7269\u6A21\u578B\u7684\u529F\u80FD\u5B9A\u4E49\u4E2D\u6DFB\u52A0"})):$("",!0),n(S,{"tab-position":"left"},{default:u(()=>[(o(!0),m(h,null,k(_.value,s=>(o(),i(K,{label:s.name,key:s.key},{default:u(()=>[V("div",O,[n(A,{data:s.inputs||[],border:""},{default:u(()=>[n(a,{prop:"name",label:"\u53C2\u6570\u540D\u79F0"}),n(a,{prop:"valueType.type",label:"\u8F93\u5165\u7C7B\u578B"}),n(a,{prop:"name",label:"\u503C","min-width":"200"},{default:u(({row:t})=>[t.valueType.type==="enum"?(o(),i(T,{key:0,modelValue:t.value,"onUpdate:modelValue":c=>t.value=c,clearable:"",style:{wdith:"100% !important"}},{default:u(()=>[(o(!0),m(h,null,k(t.valueType.elements,c=>(o(),i(v,{key:c.value,value:c.value,label:c.text},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])):(o(),i(b,{key:1,modelValue:t.value,"onUpdate:modelValue":c=>t.value=c,clearable:""},I({_:2},[t.valueType.unit?{name:"append",fn:u(()=>[f(J(t.valueType.unit),1)])}:void 0]),1032,["modelValue","onUpdate:modelValue"]))]),_:2},1024)]),_:2},1032,["data"]),n(b,{type:"textarea",value:s.result,class:"result","read-only":"",placeholder:"\u6267\u884C\u7ED3\u679C\uFF1A"},null,8,["value"])]),V("div",X,[n(C,{type:"primary",loading:s.loading,onClick:t=>E(s)},{default:u(()=>[Y]),_:2},1032,["loading","onClick"]),n(C,{onClick:t=>x(s)},{default:u(()=>[Z]),_:2},1032,["onClick"])])]),_:2},1032,["label"]))),128))]),_:1})])}}});var H=N(j,[["__scopeId","data-v-6cbed03c"]]);export{H as default};
