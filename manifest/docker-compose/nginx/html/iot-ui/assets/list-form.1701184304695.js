import{L as A,h as _,a2 as g,S as w,T as a,n as x,ai as u,o as C,b as U,_ as t,aa as h,Y as V}from"./vue.1701184304695.js";import{b as B,E as I,r as R}from"./index.1701184304695.js";import{r as v}from"./validator.1701184304695.js";const K={class:"dialog-footer"},L=V("\u53D6\u6D88"),N=V("\u786E\u5B9A"),q=A({__name:"list-form",emits:["getList"],setup(T,{expose:F,emit:b}){const s=_(!1),n=_(),m={parentId:-1,id:void 0,menuId:0,name:"",code:"",description:"",status:1},e=g({...m}),y={name:[v("\u5B57\u6BB5\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A")],code:[v("\u5B57\u6BB5key\u4E0D\u80FD\u4E3A\u7A7A")]},p=async()=>{await n.value.validate(),e.parentId||(e.parentId=-1),await(e.id?B.menu.list.edit:B.menu.list.add)(e),I.success("\u64CD\u4F5C\u6210\u529F"),R(),c(),s.value=!1,b("getList")},c=async()=>{Object.assign(e,{...m}),n.value&&n.value.resetFields()};return F({open:async i=>{c(),s.value=!0,x(()=>{Object.assign(e,{...i})})}}),(i,o)=>{const r=u("el-input"),d=u("el-form-item"),D=u("el-switch"),E=u("el-form"),f=u("el-button"),k=u("el-dialog");return C(),w(k,{modelValue:s.value,"onUpdate:modelValue":o[5]||(o[5]=l=>s.value=l),title:`${e.id?"\u7F16\u8F91\u663E\u793A\u5217":"\u65B0\u589E\u663E\u793A\u5217"}`,width:"500px","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:a(()=>[U("div",K,[t(f,{onClick:o[4]||(o[4]=l=>s.value=!1)},{default:a(()=>[L]),_:1}),t(f,{type:"primary",onClick:p},{default:a(()=>[N]),_:1})])]),default:a(()=>[t(E,{ref_key:"formRef",ref:n,model:e,rules:y,"label-width":"80px",onKeyup:h(p,["enter","native"])},{default:a(()=>[t(d,{label:"\u5B57\u6BB5\u540D\u79F0",prop:"name"},{default:a(()=>[t(r,{modelValue:e.name,"onUpdate:modelValue":o[0]||(o[0]=l=>e.name=l),placeholder:"\u5B57\u6BB5\u540D\u79F0"},null,8,["modelValue"])]),_:1}),t(d,{label:"\u5B57\u6BB5key",prop:"code"},{default:a(()=>[t(r,{modelValue:e.code,"onUpdate:modelValue":o[1]||(o[1]=l=>e.code=l),placeholder:"\u8F93\u5165\u5B57\u6BB5key"},null,8,["modelValue"])]),_:1}),t(d,{label:"\u72B6\u6001",prop:"status"},{default:a(()=>[t(D,{modelValue:e.status,"onUpdate:modelValue":o[2]||(o[2]=l=>e.status=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),t(d,{label:"\u8BF4\u660E",prop:"description"},{default:a(()=>[t(r,{modelValue:e.description,"onUpdate:modelValue":o[3]||(o[3]=l=>e.description=l),type:"textarea",rows:6},null,8,["modelValue"])]),_:1})]),_:1},8,["model","onKeyup"])]),_:1},8,["modelValue","title"])}}});export{q as default};
