import $ from"./editPost.1701184304695.js";import{_ as T,b as k,h as O,E as U}from"./index.1701184304695.js";import{L as I,h as E,a2 as M,k as q,ab as G,a as Q,_ as e,T as t,ae as Y,ai as a,as as v,o as r,b as j,U as n,S as p,Y as _}from"./vue.1701184304695.js";const H=I({name:"apiV1SystemPostList",components:{EditPost:$},setup(){const o=E(),l=E(),D=E(),c=M({ids:[],tableData:{data:[],total:0,loading:!1,param:{postName:"",status:-1,postCode:""}}}),b=()=>{h()},h=()=>{c.tableData.loading=!0,k.post.getList(c.tableData.param).then(s=>{c.tableData.data=s}).finally(()=>c.tableData.loading=!1)},C=()=>{l.value.openDialog()},f=s=>{l.value.openDialog(Y(s))},F=s=>{let d="\u4F60\u786E\u5B9A\u8981\u5220\u9664\u6240\u9009\u5C97\u4F4D\uFF1F";d=`\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u5C97\u4F4D\uFF1A\u201C${s.postName}\u201D\uFF0C\u662F\u5426\u7EE7\u7EED?`,O.confirm(d,"\u63D0\u793A",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{k.post.del(s.postId).then(()=>{U.success("\u5220\u9664\u6210\u529F"),h()})}).catch(()=>{})},w=()=>{D.value.resetFields(),b()};return q(()=>{b()}),{queryRef:D,resetQuery:w,addPostRef:o,editPostRef:l,onOpenAddPost:C,onOpenEditPost:f,onRowDel:F,postList:h,handleSelectionChange:s=>{c.ids=s.map(d=>d.postId)},...G(c)}}}),J={class:"system-post-container"},K={class:"system-user-search mb15"},W=_(" \u67E5\u8BE2 "),X=_(" \u91CD\u7F6E "),Z=_(" \u65B0\u589E\u5C97\u4F4D "),x=_("\u542F\u7528"),ee=_("\u7981\u7528"),te=_("\u4FEE\u6539"),oe=_("\u5220\u9664");function ae(o,l,D,c,b,h){const C=a("el-input"),f=a("el-form-item"),F=a("el-option"),w=a("el-select"),y=a("ele-Search"),s=a("el-icon"),d=a("el-button"),P=a("ele-Refresh"),V=a("ele-FolderAdd"),A=a("el-form"),i=a("el-table-column"),B=a("el-tag"),R=a("el-table"),S=a("el-card"),z=a("EditPost"),g=v("auth"),m=v("col"),N=v("loading");return r(),Q("div",J,[e(S,{shadow:"hover"},{default:t(()=>[j("div",K,[e(A,{model:o.tableData.param,inline:!0,ref:"queryRef"},{default:t(()=>[e(f,{label:"\u5C97\u4F4D\u540D\u79F0",prop:"postName"},{default:t(()=>[e(C,{size:"default",modelValue:o.tableData.param.postName,"onUpdate:modelValue":l[0]||(l[0]=u=>o.tableData.param.postName=u),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0",class:"w-50",clearable:""},null,8,["modelValue"])]),_:1}),e(f,{label:"\u5C97\u4F4D\u7F16\u7801",prop:"postCode"},{default:t(()=>[e(C,{size:"default",modelValue:o.tableData.param.postCode,"onUpdate:modelValue":l[1]||(l[1]=u=>o.tableData.param.postCode=u),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u7F16\u7801",class:"w-50",clearable:""},null,8,["modelValue"])]),_:1}),e(f,{label:"\u72B6\u6001",prop:"status"},{default:t(()=>[e(w,{size:"default",placeholder:"\u8BF7\u9009\u62E9\u72B6\u6001",class:"w-50",modelValue:o.tableData.param.status,"onUpdate:modelValue":l[2]||(l[2]=u=>o.tableData.param.status=u)},{default:t(()=>[e(F,{label:"\u5168\u90E8",value:-1}),e(F,{label:"\u542F\u7528",value:1}),e(F,{label:"\u7981\u7528",value:0})]),_:1},8,["modelValue"])]),_:1}),e(f,null,{default:t(()=>[e(d,{size:"default",type:"primary",class:"ml10",onClick:o.postList},{default:t(()=>[e(s,null,{default:t(()=>[e(y)]),_:1}),W]),_:1},8,["onClick"]),e(d,{size:"default",onClick:l[3]||(l[3]=u=>o.resetQuery())},{default:t(()=>[e(s,null,{default:t(()=>[e(P)]),_:1}),X]),_:1}),n((r(),p(d,{size:"default",type:"success",class:"ml10",onClick:o.onOpenAddPost},{default:t(()=>[e(s,null,{default:t(()=>[e(V)]),_:1}),Z]),_:1},8,["onClick"])),[[g,"add"]])]),_:1})]),_:1},8,["model"])]),n((r(),p(R,{data:o.tableData.data,style:{width:"100%"},onSelectionChange:o.handleSelectionChange,"row-key":"postId","tree-props":{children:"children",hasChildren:"hasChildren"}},{default:t(()=>[e(i,{type:"selection",width:"55",align:"center"}),e(i,{type:"index",label:"\u5E8F\u53F7",width:"60",align:"center"}),n(e(i,{prop:"postCode",label:"\u5C97\u4F4D\u7F16\u7801",width:"220","show-overflow-tooltip":""},null,512),[[m,"postCode"]]),n(e(i,{prop:"postName",label:"\u5C97\u4F4D\u540D\u79F0","show-overflow-tooltip":""},null,512),[[m,"postName"]]),n(e(i,{prop:"postSort",label:"\u6392\u5E8F",width:"60",align:"center"},null,512),[[m,"postSort"]]),n((r(),p(i,{prop:"status",label:"\u5C97\u4F4D\u72B6\u6001",width:"120",align:"center"},{default:t(u=>[u.row.status===1?(r(),p(B,{key:0,type:"success",size:"small"},{default:t(()=>[x]),_:1})):(r(),p(B,{key:1,type:"info",size:"small"},{default:t(()=>[ee]),_:1}))]),_:1})),[[m,"status"]]),n(e(i,{prop:"remark",label:"\u5C97\u4F4D\u63CF\u8FF0","show-overflow-tooltip":""},null,512),[[m,"remark"]]),n(e(i,{prop:"createdAt",label:"\u521B\u5EFA\u65F6\u95F4",width:"180",align:"center"},null,512),[[m,"createdAt"]]),n((r(),p(i,{label:"\u64CD\u4F5C",width:"100"},{default:t(u=>[n((r(),p(d,{size:"small",text:"",type:"warning",onClick:L=>o.onOpenEditPost(u.row)},{default:t(()=>[te]),_:2},1032,["onClick"])),[[g,"edit"]]),n((r(),p(d,{size:"small",text:"",type:"danger",onClick:L=>o.onRowDel(u.row)},{default:t(()=>[oe]),_:2},1032,["onClick"])),[[g,"del"]])]),_:1})),[[m,"handle"]])]),_:1},8,["data","onSelectionChange"])),[[N,o.tableData.loading]])]),_:1}),e(z,{ref:"editPostRef",onGetPostList:o.postList},null,8,["onGetPostList"])])}var ne=T(H,[["render",ae]]);export{ne as default};
