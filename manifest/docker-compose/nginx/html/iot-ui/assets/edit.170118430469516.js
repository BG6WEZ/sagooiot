import{L as y,h as D,a2 as B,S as A,T as a,n as k,ai as r,o as C,b as w,_ as o,X as T,aa as x,Y as v}from"./vue.1701184304695.js";import{b as N,E as h}from"./index.1701184304695.js";import{r as d}from"./validator.1701184304695.js";import{u as K}from"./index.170118430469522.js";const L={class:"dialog-footer"},R=v("\u53D6\u6D88"),S=v("\u786E\u5B9A"),Y=y({__name:"edit",emits:["getList"],setup(j,{expose:b,emit:U}){const s=D(!1),p=D(),i={id:"",types:"",handleType:"",name:"",title:"",description:"",version:"",author:"",icon:"",link:"",command:"",args:[],frontendUi:0,frontendUrl:"",frontendConfiguration:""},u=B({...i}),g={types:[d("\u901A\u4FE1\u65B9\u5F0F\u4E0D\u80FD\u4E3A\u7A7A")],handleType:[d("\u529F\u80FD\u7C7B\u578B\u4E0D\u80FD\u4E3A\u7A7A")],name:[d("\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A")],title:[d("\u6807\u9898\u4E0D\u80FD\u4E3A\u7A7A")],version:[d("\u7248\u672C\u4E0D\u80FD\u4E3A\u7A7A")],author:[d("\u4F5C\u8005\u4E0D\u80FD\u4E3A\u7A7A")],icon:[d("\u63D2\u4EF6\u56FE\u6807\u4E0D\u80FD\u4E3A\u7A7A")],command:[d("\u8FD0\u884C\u6307\u4EE4\u4E0D\u80FD\u4E3A\u7A7A")],args:[d("\u6307\u4EE4\u53C2\u6570\u4E0D\u80FD\u4E3A\u7A7A")]},m=async()=>{await p.value.validate(),await N.plugin.edit(u),h.success("\u64CD\u4F5C\u6210\u529F"),F(),s.value=!1,U("getList")},F=async()=>{Object.assign(u,{...i}),p.value&&p.value.resetFields()};return b({open:async f=>{F(),s.value=!0,k(()=>{Object.assign(u,f)})}}),(f,e)=>{const n=r("el-input"),t=r("el-form-item"),E=r("el-switch"),_=r("el-form"),V=r("el-button"),c=r("el-dialog");return C(),A(c,{class:"api-edit",modelValue:s.value,"onUpdate:modelValue":e[15]||(e[15]=l=>s.value=l),title:"\u7F16\u8F91\u63D2\u4EF6\u5185\u5BB9",width:"600px","close-on-click-modal":!1,"close-on-press-escape":!1},{footer:a(()=>[w("div",L,[o(V,{onClick:e[14]||(e[14]=l=>s.value=!1)},{default:a(()=>[R]),_:1}),o(V,{type:"primary",onClick:m},{default:a(()=>[S]),_:1})])]),default:a(()=>[o(_,{ref_key:"formRef",ref:p,model:u,rules:g,"label-width":"110px",onKeyup:x(m,["enter"])},{default:a(()=>[o(t,{label:"\u901A\u4FE1\u65B9\u5F0F",prop:"types"},{default:a(()=>[o(n,{modelValue:u.types,"onUpdate:modelValue":e[0]||(e[0]=l=>u.types=l),placeholder:"\u8F93\u5165\u63A5\u53E3\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u529F\u80FD\u7C7B\u578B",prop:"handleType"},{default:a(()=>[o(n,{modelValue:u.handleType,"onUpdate:modelValue":e[1]||(e[1]=l=>u.handleType=l),placeholder:"\u8F93\u5165\u529F\u80FD\u7C7B\u578B"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u540D\u79F0",prop:"name"},{default:a(()=>[o(n,{modelValue:u.name,"onUpdate:modelValue":e[2]||(e[2]=l=>u.name=l),placeholder:"\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u6807\u9898",prop:"title"},{default:a(()=>[o(n,{modelValue:u.title,"onUpdate:modelValue":e[3]||(e[3]=l=>u.title=l),placeholder:"\u8F93\u5165\u6807\u9898"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u8BF4\u660E",prop:"description"},{default:a(()=>[o(n,{modelValue:u.description,"onUpdate:modelValue":e[4]||(e[4]=l=>u.description=l),placeholder:"\u8F93\u5165\u540D\u79F0"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u7248\u672C",prop:"version"},{default:a(()=>[o(n,{modelValue:u.version,"onUpdate:modelValue":e[5]||(e[5]=l=>u.version=l),placeholder:"\u8F93\u5165\u7248\u672C"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u4F5C\u8005",prop:"author"},{default:a(()=>[o(n,{modelValue:u.author,"onUpdate:modelValue":e[6]||(e[6]=l=>u.author=l),placeholder:"\u8F93\u5165\u4F5C\u8005"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u63D2\u4EF6\u56FE\u6807",prop:"icon"},{default:a(()=>[o(K,{"width-host":!1,img:u.icon,onSetImg:e[7]||(e[7]=l=>u.icon=l)},null,8,["img"])]),_:1}),o(t,{label:"\u63D2\u4EF6\u7F51\u5740",prop:"link"},{default:a(()=>[o(n,{modelValue:u.link,"onUpdate:modelValue":e[8]||(e[8]=l=>u.link=l),placeholder:"\u8F93\u5165\u63D2\u4EF6\u7F51\u5740"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u8FD0\u884C\u6307\u4EE4",prop:"command"},{default:a(()=>[o(n,{modelValue:u.command,"onUpdate:modelValue":e[9]||(e[9]=l=>u.command=l),placeholder:"\u8F93\u5165\u8FD0\u884C\u6307\u4EE4"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u6307\u4EE4\u53C2\u6570",prop:"args"},{default:a(()=>[o(n,{modelValue:u.args,"onUpdate:modelValue":e[10]||(e[10]=l=>u.args=l),placeholder:"\u8F93\u5165\u6307\u4EE4\u53C2\u6570"},null,8,["modelValue"])]),_:1}),o(t,{label:"\u6709\u65E0\u63D2\u4EF6\u9875\u9762",prop:"frontendUi"},{default:a(()=>[o(E,{modelValue:u.frontendUi,"onUpdate:modelValue":e[11]||(e[11]=l=>u.frontendUi=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),u.frontendUi?(C(),A(t,{key:0,label:"\u63D2\u4EF6\u9875\u9762\u5730\u5740",prop:"frontendUrl"},{default:a(()=>[o(n,{modelValue:u.frontendUrl,"onUpdate:modelValue":e[12]||(e[12]=l=>u.frontendUrl=l),placeholder:"\u8F93\u5165\u63D2\u4EF6\u9875\u9762\u5730\u5740"},null,8,["modelValue"])]),_:1})):T("",!0),o(t,{label:"\u663E\u793A\u914D\u7F6E\u9875\u9762",prop:"frontendConfiguration"},{default:a(()=>[o(E,{modelValue:u.frontendConfiguration,"onUpdate:modelValue":e[13]||(e[13]=l=>u.frontendConfiguration=l),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1})]),_:1},8,["model","onKeyup"])]),_:1},8,["modelValue"])}}});export{Y as default};
