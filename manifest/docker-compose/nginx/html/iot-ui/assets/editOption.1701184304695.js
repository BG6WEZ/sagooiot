import{a as M}from"./index.170118430469519.js";import{_ as $,v as N,x as P,y as J,E as R}from"./index.1701184304695.js";import{L as O,h as j,a2 as q,ab as z,a as f,_ as a,T as o,e as W,ai as F,o as t,b as y,Y as A,Z as X,F as v,a8 as E,S as p,X as i}from"./vue.1701184304695.js";const Y=O({name:"deviceEditPro",components:{Plus:N,Minus:P,Right:J},setup(e,{emit:u}){const L=j(null),d=q({isShowDialog:!1,typeData:[],type:"",types:"",valueType:{type:"",maxLength:""},elementType:{type:"",maxLength:""},enumdata:[{text:"",value:""}],ruleForm:{id:0,name:"",key:"",transportProtocol:"",accessMode:"0",status:1,valueType:{type:"",maxLength:""},desc:""},rules:{name:[{required:!0,message:"\u53C2\u6570\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],key:[{required:!0,message:"\u53C2\u6570\u6807\u8BC6\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],accessMode:[{required:!0,message:"\u8BF7\u9009\u62E9\u662F\u5426\u53EA\u8BFB",trigger:"blur"}]}}),S=m=>{w(),M.product.getDataType({status:-1}).then(B=>{const V=Object.values(B.dataType);V.forEach((U,l)=>{l==0?(V[l].label="\u57FA\u7840\u7C7B\u578B",V[l].options=U):(V[l].label="\u6269\u5C55\u7C7B\u578B",V[l].options=U)}),console.log(V),d.typeData=V||[]}),m&&(console.log(m),d.ruleForm=m),d.isShowDialog=!0},w=()=>{d.ruleForm={name:"",desc:""},d.valueType={},d.enumdata=[{text:"",value:""}],d.elementType={}},n=m=>{d.type=m,console.log(m)},s=m=>{console.log(m),d.types=m,console.log(m)},T=()=>{d.enumdata.push({text:"",value:""})},k=m=>{d.enumdata.splice(m,1)},h=()=>{},b=()=>{d.isShowDialog=!1};return{openDialog:S,addEnum:T,delEnum:k,addJson:h,seletChange:n,seletChanges:s,closeDialog:b,onCancel:()=>{b()},onSubmit:()=>{const m=W(L);!m||m.validate(B=>{B&&(d.ruleForm.id!==0?M.product.edit(d.ruleForm).then(()=>{R.success("\u53C2\u6570\u7C7B\u578B\u4FEE\u6539\u6210\u529F"),b(),u("typeList")}):(d.type=="enum"&&(d.valueType.elements=d.enumdata),d.ruleForm.valueType=d.valueType,R.success("\u53C2\u6570\u7C7B\u578B\u6DFB\u52A0\u6210\u529F"),b(),u("typeList",d.ruleForm,d.ruleForm.type_data)))})},formRef:L,...z(d)}}}),Z={class:"system-edit-dic-container"},G={class:"input-box"},H=y("span",{style:{margin:"0px 10px"}},"~",-1),I={class:"input-box"},K=A(),Q=y("span",{style:{margin:"0px 10px"}},"~",-1),_={style:{margin:"0px 10px"}},c={class:"input-option"},x=y("div",null,"\u6DFB\u52A0\u53C2\u6570",-1),ee={key:7},le={class:"input-box"},ue=y("span",{style:{margin:"0px 10px"}},"~",-1),ae={class:"input-box"},oe=A(),te=y("span",{style:{margin:"0px 10px"}},"~",-1),ne={style:{margin:"0px 10px"}},de={class:"input-option"},pe={class:"dialog-footer"},se=A("\u53D6 \u6D88");function re(e,u,L,d,S,w){const n=F("el-input"),s=F("el-form-item"),T=F("el-option"),k=F("el-option-group"),h=F("el-select"),b=F("Right"),g=F("el-icon"),D=F("Plus"),m=F("Minus"),B=F("el-form"),V=F("el-button"),U=F("el-dialog");return t(),f("div",Z,[a(U,{title:(e.ruleForm.id!==0?"\u4FEE\u6539":"\u6DFB\u52A0")+"\u53C2\u6570",modelValue:e.isShowDialog,"onUpdate:modelValue":u[22]||(u[22]=l=>e.isShowDialog=l),width:"769px"},{footer:o(()=>[y("span",pe,[a(V,{onClick:e.onCancel,size:"default"},{default:o(()=>[se]),_:1},8,["onClick"]),a(V,{type:"primary",onClick:e.onSubmit,size:"default"},{default:o(()=>[A(X(e.ruleForm.id!==0?"\u4FEE \u6539":"\u6DFB \u52A0"),1)]),_:1},8,["onClick"])])]),default:o(()=>[a(B,{model:e.ruleForm,ref:"formRef",rules:e.rules,size:"default","label-width":"120px"},{default:o(()=>[a(s,{label:"\u53C2\u6570\u6807\u8BC6",prop:"key"},{default:o(()=>[a(n,{modelValue:e.ruleForm.key,"onUpdate:modelValue":u[0]||(u[0]=l=>e.ruleForm.key=l),placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u6807\u8BC6",disabled:e.ruleForm.id!==0},null,8,["modelValue","disabled"])]),_:1}),a(s,{label:"\u53C2\u6570\u540D\u79F0",prop:"name"},{default:o(()=>[a(n,{modelValue:e.ruleForm.name,"onUpdate:modelValue":u[1]||(u[1]=l=>e.ruleForm.name=l),placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u540D\u79F0"},null,8,["modelValue"])]),_:1}),a(s,{label:"\u6570\u636E\u7C7B\u578B",prop:"type"},{default:o(()=>[a(h,{modelValue:e.valueType.type,"onUpdate:modelValue":u[2]||(u[2]=l=>e.valueType.type=l),placeholder:"\u8BF7\u9009\u62E9\u6570\u636E\u7C7B\u578B",onChange:e.seletChange},{default:o(()=>[(t(!0),f(v,null,E(e.typeData,l=>(t(),p(k,{key:l.label,label:l.label},{default:o(()=>[(t(!0),f(v,null,E(l.options,r=>(t(),p(T,{key:r.type,label:r.title,value:r.type,disabled:r.type=="object"},null,8,["label","value","disabled"]))),128))]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),e.type=="float"||e.type=="double"?(t(),p(s,{key:0,label:"\u7CBE\u5EA6",prop:"decimals"},{default:o(()=>[a(n,{modelValue:e.valueType.decimals,"onUpdate:modelValue":u[3]||(u[3]=l=>e.valueType.decimals=l),placeholder:"\u8BF7\u8F93\u5165\u7CBE\u5EA6"},null,8,["modelValue"])]),_:1})):i("",!0),e.type=="int"||e.type=="long"||e.type=="float"||e.type=="double"?(t(),p(s,{key:1,label:"\u5355\u4F4D",prop:"unit"},{default:o(()=>[a(n,{modelValue:e.valueType.unit,"onUpdate:modelValue":u[4]||(u[4]=l=>e.valueType.unit=l),placeholder:"\u8BF7\u8F93\u5165\u5355\u4F4D"},null,8,["modelValue"])]),_:1})):i("",!0),e.type=="string"?(t(),p(s,{key:2,label:"\u6700\u5927\u957F\u5EA6",prop:"maxLength"},{default:o(()=>[a(n,{modelValue:e.valueType.maxLength,"onUpdate:modelValue":u[5]||(u[5]=l=>e.valueType.maxLength=l),placeholder:"\u8BF7\u8F93\u5165\u6700\u5927\u957F\u5EA6"},null,8,["modelValue"])]),_:1})):i("",!0),e.type=="date"?(t(),p(s,{key:3,label:"\u65F6\u95F4\u683C\u5F0F",prop:"maxLength"},{default:o(()=>[a(n,{modelValue:e.valueType.maxLength,"onUpdate:modelValue":u[6]||(u[6]=l=>e.valueType.maxLength=l),placeholder:"\u8BF7\u8F93\u5165\u65F6\u95F4\u683C\u5F0F"},null,8,["modelValue"])]),_:1})):i("",!0),e.type=="boolean"?(t(),p(s,{key:4,label:"\u5E03\u5C14\u503C",prop:"maxLength"},{default:o(()=>[y("div",G,[a(n,{modelValue:e.valueType.trueText,"onUpdate:modelValue":u[7]||(u[7]=l=>e.valueType.trueText=l),placeholder:"\u8BF7\u8F93\u5165\u5E03\u5C14\u503C",value:"\u662F"},null,8,["modelValue"]),H,a(n,{modelValue:e.valueType.trueValue,"onUpdate:modelValue":u[8]||(u[8]=l=>e.valueType.trueValue=l),placeholder:"\u8BF7\u8F93\u5165\u5E03\u5C14\u503C",value:"true"},null,8,["modelValue"])]),y("div",I,[a(n,{modelValue:e.valueType.falseText,"onUpdate:modelValue":u[9]||(u[9]=l=>e.valueType.falseText=l),placeholder:"\u8BF7\u8F93\u5165\u5E03\u5C14\u503C",value:"\u5426"},null,8,["modelValue"]),K,Q,a(n,{modelValue:e.valueType.falseValue,"onUpdate:modelValue":u[10]||(u[10]=l=>e.valueType.falseValue=l),placeholder:"\u8BF7\u8F93\u5165\u5E03\u5C14\u503C",value:"false"},null,8,["modelValue"])])]),_:1})):i("",!0),e.type=="enum"?(t(),p(s,{key:5,label:"\u679A\u4E3E\u9879",prop:"maxLength"},{default:o(()=>[(t(!0),f(v,null,E(e.enumdata,(l,r)=>(t(),f("div",{class:"input-box",key:r},[a(n,{modelValue:l.text,"onUpdate:modelValue":C=>l.text=C,placeholder:"\u8BF7\u8F93\u5165\u679A\u4E3E\u6587\u672C"},null,8,["modelValue","onUpdate:modelValue"]),y("span",_,[a(g,null,{default:o(()=>[a(b)]),_:1})]),a(n,{modelValue:l.value,"onUpdate:modelValue":C=>l.value=C,placeholder:"\u8BF7\u8F93\u5165\u679A\u4E3E\u503C"},null,8,["modelValue","onUpdate:modelValue"]),y("div",c,[r==0?(t(),p(g,{key:0,onClick:e.addEnum},{default:o(()=>[a(D)]),_:1},8,["onClick"])):i("",!0),r!=0?(t(),p(g,{key:1,onClick:C=>e.delEnum(r)},{default:o(()=>[a(m)]),_:2},1032,["onClick"])):i("",!0)])]))),128))]),_:1})):i("",!0),e.type=="object"?(t(),p(s,{key:6,label:"JSON\u5BF9\u8C61",prop:"maxLength"},{default:o(()=>[y("div",{class:"input-options",onClick:u[11]||(u[11]=(...l)=>e.addJson&&e.addJson(...l))},[a(g,null,{default:o(()=>[a(D)]),_:1}),x])]),_:1})):i("",!0),e.type=="array"?(t(),f("div",ee,[a(s,{label:"\u5143\u7D20\u7C7B\u578B",prop:"type"},{default:o(()=>[a(h,{modelValue:e.elementType.type,"onUpdate:modelValue":u[12]||(u[12]=l=>e.elementType.type=l),placeholder:"\u8BF7\u9009\u62E9\u5143\u7D20\u7C7B\u578B",onChange:e.seletChanges},{default:o(()=>[(t(!0),f(v,null,E(e.typeData,l=>(t(),p(k,{key:l.label,label:l.label},{default:o(()=>[(t(!0),f(v,null,E(l.options,r=>(t(),p(T,{key:r.type,label:r.title,value:r.type,disabled:r.type=="array"},null,8,["label","value","disabled"]))),128))]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue","onChange"])]),_:1}),e.types=="float"||e.types=="double"?(t(),p(s,{key:0,label:"\u7CBE\u5EA6",prop:"decimals"},{default:o(()=>[a(n,{modelValue:e.elementType.decimals,"onUpdate:modelValue":u[13]||(u[13]=l=>e.elementType.decimals=l),placeholder:"\u8BF7\u8F93\u5165\u7CBE\u5EA6"},null,8,["modelValue"])]),_:1})):i("",!0),e.types=="int"||e.types=="long"||e.types=="float"||e.types=="double"?(t(),p(s,{key:1,label:"\u5355\u4F4D",prop:"unit"},{default:o(()=>[a(n,{modelValue:e.elementType.unit,"onUpdate:modelValue":u[14]||(u[14]=l=>e.elementType.unit=l),placeholder:"\u8BF7\u8F93\u5165\u5355\u4F4D"},null,8,["modelValue"])]),_:1})):i("",!0),e.types=="string"?(t(),p(s,{key:2,label:"\u6700\u5927\u957F\u5EA6",prop:"maxLength"},{default:o(()=>[a(n,{modelValue:e.elementType.maxLength,"onUpdate:modelValue":u[15]||(u[15]=l=>e.elementType.maxLength=l),placeholder:"\u8BF7\u8F93\u5165\u6700\u5927\u957F\u5EA6"},null,8,["modelValue"])]),_:1})):i("",!0),e.types=="date"?(t(),p(s,{key:3,label:"\u65F6\u95F4\u683C\u5F0F",prop:"maxLength"},{default:o(()=>[a(n,{modelValue:e.elementType.maxLength,"onUpdate:modelValue":u[16]||(u[16]=l=>e.elementType.maxLength=l),placeholder:"\u8BF7\u8F93\u5165\u65F6\u95F4\u683C\u5F0F"},null,8,["modelValue"])]),_:1})):i("",!0),e.types=="boolean"?(t(),p(s,{key:4,label:"\u5E03\u5C14\u503C",prop:"maxLength"},{default:o(()=>[y("div",le,[a(n,{modelValue:e.elementType.trueText,"onUpdate:modelValue":u[17]||(u[17]=l=>e.elementType.trueText=l),placeholder:"\u8BF7\u8F93\u5165\u5E03\u5C14\u503C",value:"\u662F"},null,8,["modelValue"]),ue,a(n,{modelValue:e.elementType.trueValue,"onUpdate:modelValue":u[18]||(u[18]=l=>e.elementType.trueValue=l),placeholder:"\u8BF7\u8F93\u5165\u5E03\u5C14\u503C",value:"true"},null,8,["modelValue"])]),y("div",ae,[a(n,{modelValue:e.elementType.falseText,"onUpdate:modelValue":u[19]||(u[19]=l=>e.elementType.falseText=l),placeholder:"\u8BF7\u8F93\u5165\u5E03\u5C14\u503C",value:"\u5426"},null,8,["modelValue"]),oe,te,a(n,{modelValue:e.elementType.falseValue,"onUpdate:modelValue":u[20]||(u[20]=l=>e.elementType.falseValue=l),placeholder:"\u8BF7\u8F93\u5165\u5E03\u5C14\u503C",value:"false"},null,8,["modelValue"])])]),_:1})):i("",!0),e.types=="enum"?(t(),p(s,{key:5,label:"\u679A\u4E3E\u9879",prop:"maxLength"},{default:o(()=>[(t(!0),f(v,null,E(e.enumdata,(l,r)=>(t(),f("div",{class:"input-box",key:r},[a(n,{modelValue:l.text,"onUpdate:modelValue":C=>l.text=C,placeholder:"\u8BF7\u8F93\u5165\u679A\u4E3E\u503C"},null,8,["modelValue","onUpdate:modelValue"]),y("span",ne,[a(g,null,{default:o(()=>[a(b)]),_:1})]),a(n,{modelValue:l.value,"onUpdate:modelValue":C=>l.value=C,placeholder:"\u8BF7\u8F93\u5165\u679A\u4E3E\u6587\u672C"},null,8,["modelValue","onUpdate:modelValue"]),y("div",de,[r==0?(t(),p(g,{key:0,onClick:e.addEnum},{default:o(()=>[a(D)]),_:1},8,["onClick"])):i("",!0),r!=0?(t(),p(g,{key:1,onClick:C=>e.delEnum(r)},{default:o(()=>[a(m)]),_:2},1032,["onClick"])):i("",!0)])]))),128))]),_:1})):i("",!0)])):i("",!0),a(s,{label:"\u53C2\u6570\u63CF\u8FF0	",prop:"desc"},{default:o(()=>[a(n,{modelValue:e.ruleForm.desc,"onUpdate:modelValue":u[21]||(u[21]=l=>e.ruleForm.desc=l),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u53C2\u6570\u63CF\u8FF0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])])}var Fe=$(Y,[["render",re]]);export{Fe as default};
