import{L as Q,h as v,a2 as W,k as Y,a as Z,_ as t,T as o,j as G,ai as u,as as C,o as s,b as H,aa as J,U as i,S as r,Y as p,Z as O,V as X}from"./vue.1701184304695.js";import{a as y,E as ee}from"./editParams.1701184304695.js";import{h as F,E as x}from"./index.1701184304695.js";const te={class:"system-dic-container"},ae={class:"system-user-search mb15"},le=p(" \u67E5\u8BE2 "),ne=p(" \u91CD\u7F6E "),oe=p(" \u65B0\u589E\u8BC1\u4E66 "),ue=p("\u7F16\u8F91"),ie=p("\u5220\u9664"),pe=Q({__name:"index",setup(se){const{proxy:S}=G(),{network_certificate:V}=S.useDict("network_certificate"),k=v(),D=v(),A=v(),E=v(),l=W({ids:[],tableData:{data:[],loading:!1,param:{pageNum:1,PageSize:10,status:-1,name:""},total:0}}),z=()=>{d()},d=()=>{l.tableData.loading=!0,y.certificateManagement.getList(l.tableData.param).then(a=>{l.tableData.data=a.Info||[],l.tableData.loading=!1,l.tableData.total=a.total})},R=a=>{var b;return(b=V.value.filter(g=>g.value==a)[0])==null?void 0:b.label},P=a=>{let e=a.status===1?"\u542F\u7528":"\u505C\u7528";F.confirm('\u786E\u8BA4\u8981"'+e+'"\uFF1A"'+a.name+'"\u697C\u5B87\u5417?',"\u8B66\u544A",{confirmButtonText:"\u786E\u5B9A",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(function(){return y.certificateManagement.editStatus({id:a.id,status:a.status})}).then(()=>{x.success(e+"\u6210\u529F")}).catch(function(){a.status=a.status===0?1:0})};Y(()=>{z()});const T=a=>{!a||(a.resetFields(),d())},w=(a,e)=>{switch(a){case"preview":console.log(k.value),k.value.openDialog(e);break;case"add":D.value.openDialog();break;case"editParams":D.value.openDialog(e);break;case"buildConfig":A.value.openDialog(e);break;case"delete":F.confirm(`\u662F\u5426\u786E\u8BA4\u5220\u9664\u7F16\u53F7\u4E3A"${e.id}"\u7684\u6570\u636E\u9879?`,"\u63D0\u793A",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{y.certificateManagement.del(e.id).then(()=>{x.success("\u5220\u9664\u6210\u529F"),d()})}).catch(()=>{});break}};return(a,e)=>{const b=u("el-input"),g=u("el-form-item"),U=u("ele-Search"),B=u("el-icon"),m=u("el-button"),M=u("ele-Refresh"),N=u("ele-FolderAdd"),$=u("el-form"),c=u("el-table-column"),q=u("el-switch"),I=u("el-table"),K=u("pagination"),L=u("el-card"),_=C("auth"),f=C("col"),j=C("loading");return s(),Z("div",te,[t(L,{shadow:"hover"},{default:o(()=>[H("div",ae,[t($,{model:l.tableData.param,ref_key:"queryRef",ref:E,inline:!0,"label-width":"60px"},{default:o(()=>[t(g,{label:"\u5173\u952E\u5B57",prop:"keyWord"},{default:o(()=>[t(b,{modelValue:l.tableData.param.name,"onUpdate:modelValue":e[0]||(e[0]=n=>l.tableData.param.name=n),placeholder:"\u8BF7\u8F93\u5165\u5173\u952E\u5B57",clearable:"",size:"default",onKeyup:J(d,["enter"])},null,8,["modelValue","onKeyup"])]),_:1}),t(g,null,{default:o(()=>[i((s(),r(m,{size:"default",type:"primary",class:"ml10",onClick:d},{default:o(()=>[t(B,null,{default:o(()=>[t(U)]),_:1}),le]),_:1})),[[_,"query"]]),i((s(),r(m,{size:"default",onClick:e[1]||(e[1]=n=>T(E.value))},{default:o(()=>[t(B,null,{default:o(()=>[t(M)]),_:1}),ne]),_:1})),[[_,"reset"]]),i((s(),r(m,{size:"default",type:"success",class:"ml10",onClick:e[2]||(e[2]=n=>w("add"))},{default:o(()=>[t(B,null,{default:o(()=>[t(N)]),_:1}),oe]),_:1})),[[_,"add"]])]),_:1})]),_:1},8,["model"])]),i((s(),r(I,{data:l.tableData.data,style:{width:"100%"}},{default:o(()=>[i(t(c,{label:"ID",align:"center",prop:"id",width:"60"},null,512),[[f,"id"]]),i(t(c,{label:"\u8BC1\u4E66\u540D\u79F0",prop:"name","min-width":"120","show-overflow-tooltip":!0},null,512),[[f,"name"]]),i((s(),r(c,{label:"\u8BC1\u4E66\u6807\u51C6",prop:"standard","min-width":"120","show-overflow-tooltip":!0},{default:o(n=>[p(O(R(n.row.standard)),1)]),_:1})),[[f,"standard"]]),i(t(c,{label:"\u8BF4\u660E",prop:"description","min-width":"120","show-overflow-tooltip":!0},null,512),[[f,"description"]]),t(c,{label:"\u72B6\u6001",width:"120",align:"center"},{default:o(n=>[t(q,{modelValue:n.row.status,"onUpdate:modelValue":h=>n.row.status=h,"inline-prompt":"","active-value":1,"inactive-value":0,"active-text":"\u542F","inactive-text":"\u7981",onChange:h=>P(n.row)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),i((s(),r(c,{label:"\u64CD\u4F5C",width:"180",align:"center",fixed:"right"},{default:o(n=>[i((s(),r(m,{size:"small",text:"",type:"primary",onClick:h=>w("editParams",n.row)},{default:o(()=>[ue]),_:2},1032,["onClick"])),[[_,"edit"]]),i((s(),r(m,{size:"small",text:"",type:"danger",onClick:h=>w("delete",n.row)},{default:o(()=>[ie]),_:2},1032,["onClick"])),[[_,"del"]])]),_:1})),[[f,"handle"]])]),_:1},8,["data"])),[[j,l.tableData.loading]]),i(t(K,{total:l.tableData.total,page:l.tableData.param.pageNum,"onUpdate:page":e[3]||(e[3]=n=>l.tableData.param.pageNum=n),limit:l.tableData.param.pageSize,"onUpdate:limit":e[4]||(e[4]=n=>l.tableData.param.pageSize=n),onPagination:d},null,8,["total","page","limit"]),[[X,l.tableData.total>0]])]),_:1}),t(ee,{ref_key:"editParamsRef",ref:D,onUpdate:d},null,512)])}}});export{pe as default};
