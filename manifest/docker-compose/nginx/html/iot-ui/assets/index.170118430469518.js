import{L as P,h as D,a2 as Q,k as X,ab as Y,a as u,_ as e,T as o,ai as n,as as T,o as i,b as t,U as c,S as R,F as Z,a8 as j,Z as S,X as y,V as G,Y as f}from"./vue.1701184304695.js";import H from"./edit.17011843046954.js";import I from"./level.1701184304695.js";import{a as E}from"./index.17011843046958.js";import{_ as J,E as O,h as K}from"./index.1701184304695.js";import"./index.17011843046957.js";import"./index.170118430469519.js";import"./index.170118430469520.js";var W="/assets/alarm.1701184304695.svg";const tt=P({name:"setlist",components:{EditDic:H,LevelDic:I},setup(){const s=D(),p=D(),b=D(),F=D(),z=D(),r=Q({tableData:{data:[],total:0,loading:!1,param:{pageNum:1,pageSize:20,name:"",level:"",triggerType:""}}}),C=()=>{d()},d=()=>{r.tableData.loading=!0,E.common.getList(r.tableData.param).then(a=>{r.tableData.data=a.list,r.tableData.total=a.Total}).finally(()=>r.tableData.loading=!1)},_=a=>{b.value.openDialog()},k=a=>{p.value.openDialog()},A=a=>{b.value.openDialog({...a})},B=a=>{F.value.openDialog(a)},L=a=>{let m="\u4F60\u786E\u5B9A\u8981\u5220\u9664\u6240\u9009\u6570\u636E\uFF1F",v=[];if(a?(m=`\u6B64\u64CD\u4F5C\u5C06\u6C38\u4E45\u5220\u9664\u6A21\u578B\uFF1A\u201C${a.name}\u201D\uFF0C\u662F\u5426\u7EE7\u7EED?`,v=a.id):v=r.ids,v.length===0){O.error("\u8BF7\u9009\u62E9\u8981\u5220\u9664\u7684\u6570\u636E\u3002");return}K.confirm(m,"\u63D0\u793A",{confirmButtonText:"\u786E\u8BA4",cancelButtonText:"\u53D6\u6D88",type:"warning"}).then(()=>{E.common.delete(v).then(()=>{O.success("\u5220\u9664\u6210\u529F"),d()})}).catch(()=>{})};return X(()=>{C()}),{onActionStatus:a=>{a.status==0?E.common.deploy({id:a.id}).then(m=>{d()}):E.common.undeploy({id:a.id}).then(m=>{d()})},addDicRef:s,editDicRef:b,detailRef:F,queryRef:z,levelDicRef:p,onOpenRecord:B,onOpenLevel:k,onOpenAdd:_,onOpenEdit:A,onRowDel:L,dataList:d,resetQuery:a=>{!a||(a.resetFields(),d())},...Y(r)}}}),et={class:"system-dic-container"},at={class:"system-user-search mb15"},st=f(" \u65B0\u589E\u544A\u8B66 "),ot=f(" \u7EA7\u522B\u8BBE\u7F6E "),nt=t("div",{style:{border:"1px solid var(--next-border-color-light)"}},null,-1),lt={class:"grid-content card"},it={class:"ant-card"},dt={class:"ant-card-body"},ct={class:"pro-table-card-item"},ut={class:"card-item-avatar"},rt=t("img",{width:"88",height:"88",src:W,alt:""},null,-1),_t=[rt],pt={class:"card-item-body"},mt={class:"card-item-header"},vt={class:""},ht={class:"ellipsis card-item-header-name",style:{width:"100%",height:"45px"}},ft=t("div",{class:"card-item-header-name",style:{display:"none"}},null,-1),gt={class:"card-item-content"},Dt=t("div",null,[t("label",null,"\u89E6\u53D1\uFF1A"),t("div",{class:""},[t("div",null,"\u7EA7\u522B\uFF1A")])],-1),bt={class:""},yt={key:0,class:"card-state success"},Et=t("div",{class:"card-state-content"},[t("span",{class:"ant-badge ant-badge-status ant-badge-not-a-wrapper"},[t("span",{class:"ant-badge-status-dot ant-badge-status-success"}),t("span",{class:"ant-badge-status-text"},"\u5DF2\u542F\u7528")])],-1),Ft=[Et],Ct={key:1,class:"card-state error"},kt=t("div",{class:"card-state-content"},[t("span",{class:"ant-badge ant-badge-status ant-badge-not-a-wrapper"},[t("span",{class:"ant-badge-status-dot ant-badge-status-error"}),t("span",{class:"ant-badge-status-text"},"\u672A\u542F\u7528")])],-1),At=[kt],Bt={class:"card-tools"},Lt=["onClick"],wt=f(" \u4FEE\u6539 "),Rt={key:0,class:"card-button"},St=f(" \u542F\u7528 "),zt={key:1,class:"card-button"},$t=f(" \u7981\u7528 "),Nt=["onClick"],Tt=f(" \u5220\u9664 ");function Ot(s,p,b,F,z,r){const C=n("ele-FolderAdd"),d=n("el-icon"),_=n("el-button"),k=n("ele-Setting"),A=n("el-form-item"),B=n("el-form"),L=n("ele-Edit"),$=n("ele-Check"),N=n("ele-Close"),a=n("ele-Delete"),m=n("el-col"),v=n("el-row"),V=n("pagination"),x=n("el-card"),M=n("EditDic"),U=n("LevelDic"),h=T("auth"),g=T("col");return i(),u("div",et,[e(x,{shadow:"hover"},{default:o(()=>[t("div",at,[e(B,{model:s.tableData.param,ref:"queryRef",inline:!0},{default:o(()=>[e(A,null,{default:o(()=>[c((i(),R(_,{size:"default",type:"success",class:"ml10",onClick:s.onOpenAdd},{default:o(()=>[e(d,null,{default:o(()=>[e(C)]),_:1}),st]),_:1},8,["onClick"])),[[h,"add"]]),c((i(),R(_,{size:"default",type:"primary",class:"ml10",onClick:s.onOpenLevel},{default:o(()=>[e(d,null,{default:o(()=>[e(k)]),_:1}),ot]),_:1},8,["onClick"])),[[h,"level"]])]),_:1})]),_:1},8,["model"])]),t("div",null,[nt,e(v,null,{default:o(()=>[(i(!0),u(Z,null,j(s.tableData.data,(l,q)=>(i(),R(m,{span:6,key:q},{default:o(()=>[t("div",lt,[t("div",it,[t("div",dt,[t("div",ct,[c((i(),u("div",ut,_t)),[[g,"image"]]),t("div",pt,[t("div",mt,[c((i(),u("div",vt,[t("div",ht,S(l.name),1),ft])),[[g,"name"]])]),c((i(),u("div",gt,[Dt,t("div",null,[t("label",null,S(l.triggerTypeName),1),t("div",bt,[t("div",null,S(l.alarmLevel.name),1)])])])),[[g,"alarm"]])])]),l.status==1?c((i(),u("div",yt,Ft)),[[g,"liststatus"]]):y("",!0),l.status==0?c((i(),u("div",Ct,At)),[[g,"liststatus"]]):y("",!0)])]),t("div",Bt,[c((i(),u("div",{class:"card-button",onClick:w=>s.onOpenEdit(l)},[e(_,{size:"default",type:"primary",class:"ml10",text:"",bg:""},{default:o(()=>[e(d,null,{default:o(()=>[e(L)]),_:1}),wt]),_:1})],8,Lt)),[[h,"edit"]]),l.status==0?c((i(),u("div",Rt,[e(_,{size:"default",type:"warning",text:"",bg:"",onClick:w=>s.onActionStatus(l)},{default:o(()=>[e(d,null,{default:o(()=>[e($)]),_:1}),St]),_:2},1032,["onClick"])])),[[h,"status"]]):y("",!0),l.status==1?c((i(),u("div",zt,[e(_,{size:"default",type:"info",text:"",bg:"",onClick:w=>s.onActionStatus(l)},{default:o(()=>[e(d,null,{default:o(()=>[e(N)]),_:1}),$t]),_:2},1032,["onClick"])])),[[h,"status"]]):y("",!0),c((i(),u("div",{class:"card-button",onClick:w=>s.onRowDel(l)},[e(_,{size:"default",type:"danger",text:"",bg:""},{default:o(()=>[e(d,null,{default:o(()=>[e(a)]),_:1}),Tt]),_:1})],8,Nt)),[[h,"del"]])])])]),_:2},1024))),128))]),_:1})]),c(e(V,{total:s.tableData.total,page:s.tableData.param.pageNum,"onUpdate:page":p[0]||(p[0]=l=>s.tableData.param.pageNum=l),limit:s.tableData.param.pageSize,"onUpdate:limit":p[1]||(p[1]=l=>s.tableData.param.pageSize=l),onPagination:s.dataList},null,8,["total","page","limit","onPagination"]),[[G,s.tableData.total>0]])]),_:1}),e(M,{ref:"editDicRef",onDataList:s.dataList},null,8,["onDataList"]),e(U,{ref:"levelDicRef",onDataList:s.dataList},null,8,["onDataList"])])}var Yt=J(tt,[["render",Ot]]);export{Yt as default};
